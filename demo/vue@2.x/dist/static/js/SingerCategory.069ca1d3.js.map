{"version":3,"sources":["webpack:///./src/views/singer/SingerCategory.vue","webpack:///./src/requests/singerCategory.js","webpack:///src/views/singer/SingerCategory.vue","webpack:///./src/views/singer/SingerCategory.vue?af5d","webpack:///./src/views/singer/SingerCategory.vue?96c6","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./src/mixins/loading.js","webpack:///./src/views/singer/SingerCategory.vue?cf5f"],"names":["render","_vm","this","_c","_self","staticClass","_l","singerCategories","list","list_index","key","data","item","index","attrs","path","_v","_s","classname","staticRenderFns","fetchSingerCategory","_ref","arguments","length","undefined","_ref$params","params","http","_objectSpread","getSingerCategory","name","mixins","loading","computed","mapState","created","setLoadingExcludeNav","startLoading","getSingerCategories","methods","mapMutations","_this","then","reduce","re","obj","classid","findCategories","find","o","category","substring","push","replaceProperty","paths","stopLoading","component","$export","$find","KEY","forced","Array","P","F","callbackfn","updated","setLoadingExcludeHeader","setLoadingExcludeModuleTitle","setLoadingExcludeSearchForm"],"mappings":"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","file":"static/js/SingerCategory.069ca1d3.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"singer_category\"},_vm._l((_vm.singerCategories),function(list,list_index){return _c('ul',{key:list_index,staticClass:\"singer_category__list main_border\"},_vm._l((list.data),function(item,index){return _c('li',{key:'1'+index,staticClass:\"singer_category__item main_border_bottom\"},[_c('router-link',{staticClass:\"singer_category__link\",attrs:{\"to\":item.path}},[_c('div',{staticClass:\"singer_category__title\"},[_vm._v(_vm._s(item.classname))]),_c('button',{staticClass:\"singer_category_btn\"},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-arrow-right\"}})])])])],1)}),0)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { getSingerCategory } from '@shared/api/singerCategory'\r\nimport http from './http'\r\n\r\nexport const fetchSingerCategory = ({ params = {} } = {}) => {\r\n  return http({\r\n    ...getSingerCategory,\r\n    params: { ...params }\r\n  })\r\n}\r\n","<template>\r\n  <section class=\"singer_category\">\r\n    <ul\r\n      class=\"singer_category__list main_border\"\r\n      v-for=\"(list,list_index) in singerCategories\"\r\n      :key=\"list_index\"\r\n    >\r\n      <li\r\n        class=\"singer_category__item main_border_bottom\"\r\n        v-for=\"(item,index) in list.data\"\r\n        :key=\"'1'+index\"\r\n      >\r\n        <router-link :to=\"item.path\" class=\"singer_category__link\">\r\n          <div class=\"singer_category__title\">{{item.classname}}</div>\r\n          <button class=\"singer_category_btn\">\r\n            <svg class=\"icon\" aria-hidden=\"true\">\r\n              <use xlink:href=\"#icon-arrow-right\"></use>\r\n            </svg>\r\n          </button>\r\n        </router-link>\r\n      </li>\r\n    </ul>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { fetchSingerCategory } from '../../requests/singerCategory'\r\nimport { mapState, mapMutations } from 'vuex'\r\nimport loading from '../../mixins/loading'\r\nexport default {\r\n  name: 'SingerCategory',\r\n  mixins: [loading],\r\n  computed: {\r\n    ...mapState('singer', ['singerCategories'])\r\n  },\r\n  created() {\r\n    if (this.singerCategories.length === 0) {\r\n      this.setLoadingExcludeNav()\r\n      this.startLoading()\r\n      this.getSingerCategories()\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(['replaceProperty']),\r\n    getSingerCategories() {\r\n      fetchSingerCategory().then(({ data }) => {\r\n        let singerCategories = data.list.reduce((re, obj) => {\r\n          obj.path = '/singer/list/' + obj.classid\r\n          let findCategories = re.find(\r\n            o => o.category === obj.classname.substring(0, 2)\r\n          )\r\n          if (findCategories) {\r\n            findCategories.data.push(obj)\r\n          } else {\r\n            re.push({\r\n              category: obj.classname.substring(0, 2),\r\n              data: [obj]\r\n            })\r\n          }\r\n          return re\r\n        }, [])\r\n        this.replaceProperty({\r\n          paths: 'singer.singerCategories',\r\n          data: singerCategories\r\n        })\r\n        this.stopLoading()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import (reference) '~@/styles/constant';\r\n.singer_category__list {\r\n  width: 347px;\r\n  margin: 18px auto;\r\n\r\n  // border-bottom: none;\r\n\r\n  border-radius: 6px;\r\n  background-color: @white;\r\n}\r\n\r\n.singer_category__item {\r\n  height: 50px;\r\n}\r\n\r\n.singer_category__item:last-child {\r\n  /*如果用另一种思路，设置 .singer_category__list 的 border-bottom ，\r\n  在 iPhone6/7/8 就会失败，待测试*/\r\n  border-bottom: none;\r\n}\r\n\r\n.singer_category__link {\r\n  display: block;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  height: 100%;\r\n}\r\n\r\n.singer_category__title {\r\n  display: block;\r\n\r\n  padding-left: @padding_width;\r\n}\r\n\r\n.singer_category_btn {\r\n  font-size: 20px;\r\n  margin-right: 15px;\r\n  margin-left: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerCategory.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerCategory.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SingerCategory.vue?vue&type=template&id=68d44a03&scoped=true\"\nimport script from \"./SingerCategory.vue?vue&type=script&lang=js\"\nexport * from \"./SingerCategory.vue?vue&type=script&lang=js\"\nimport style0 from \"./SingerCategory.vue?vue&type=style&index=0&id=68d44a03&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68d44a03\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","import { mapMutations } from 'vuex'\r\nexport default {\r\n  updated() {\r\n    this.stopLoading()\r\n  },\r\n  methods: {\r\n    ...mapMutations(['replaceProperty']),\r\n    startLoading() {\r\n      this.replaceProperty({\r\n        paths: 'loading.isShow',\r\n        data: true\r\n      })\r\n    },\r\n    stopLoading() {\r\n      this.replaceProperty({\r\n        paths: 'loading.isShow',\r\n        data: false\r\n      })\r\n    },\r\n    setLoadingExcludeHeader() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_header'\r\n      })\r\n    },\r\n    setLoadingExcludeNav() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_nav'\r\n      })\r\n    },\r\n    setLoadingExcludeModuleTitle() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_module_title'\r\n      })\r\n    },\r\n    setLoadingExcludeSearchForm() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_search_form'\r\n      })\r\n    }\r\n  }\r\n}\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerCategory.vue?vue&type=style&index=0&id=68d44a03&prod&lang=less&scoped=true\""],"sourceRoot":""}