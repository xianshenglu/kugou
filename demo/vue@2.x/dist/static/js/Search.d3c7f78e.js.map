{"version":3,"sources":["webpack:///./src/components/AppMusicList.vue?e718","webpack:///./src/components/PubModuleTitle.vue?b782","webpack:///src/components/PubModuleTitle.vue","webpack:///./src/components/PubModuleTitle.vue?83ed","webpack:///./src/components/PubModuleTitle.vue","webpack:///./node_modules/core-js/modules/es6.regexp.search.js","webpack:///./src/components/AppMusicList.vue?cd0d","webpack:///src/components/AppMusicList.vue","webpack:///./src/components/AppMusicList.vue?8143","webpack:///./src/components/AppMusicList.vue","webpack:///./src/mixins/loading.js","webpack:///./src/views/search/Search.vue?d977","webpack:///./src/api/search.js","webpack:///./src/requests/search.js","webpack:///src/views/search/Search.vue","webpack:///./src/views/search/Search.vue?7bee","webpack:///./src/views/search/Search.vue","webpack:///./src/components/PubModuleTitle.vue?40ff","webpack:///./src/views/search/Search.vue?02d7"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AppMusicList_vue_vue_type_style_index_0_id_dac178ac_lang_less_scoped_true__WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","click","$event","$emit","arguments","_v","_s","title","staticRenderFns","PubModuleTitlevue_type_script_lang_js","name","props","type","String","default","components_PubModuleTitlevue_type_script_lang_js","component","Object","componentNormalizer","__webpack_exports__","__webpack_require__","defined","SEARCH","$search","regexp","O","fn","undefined","call","RegExp","_l","item","index","key","wantPlay","_t","data","filename","attrs","aria-hidden","xlink:href","AppMusicListvue_type_script_lang_js","musicList","Array","methods","music","$store","commit","$props","components_AppMusicListvue_type_script_lang_js","updated","stopLoading","D_Demo_github_vue_demo_vue_2_x_node_modules_babel_runtime_helpers_builtin_es6_objectSpread__WEBPACK_IMPORTED_MODULE_0__","vuex__WEBPACK_IMPORTED_MODULE_1__","startLoading","replaceProperty","paths","setLoadingExcludeHeader","setLoadingExcludeNav","setLoadingExcludeModuleTitle","setLoadingExcludeSearchForm","ref","submit","preventDefault","directives","rawName","value","expression","modifiers","trim","placeholder","domProps","keyup","_k","keyCode","getSearchRes","input","target","composing","keyword","blur","$forceUpdate","class","isSearchResShow","searchType","searchRes","info","length","music-list","getHotSearch","method","url","origin","getSearchResult","search_fetchHotSearch","_ref","_ref$params","params","http","objectSpread","format","plat","count","search_fetchSearchResult","_ref2","_ref2$params","page","pagesize","showtype","Searchvue_type_script_lang_js","mixins","loading","components","PubModuleTitle","AppMusicList","computed","vuex_esm","get","state","search","set","isSearchRecShow","created","init","mounted","eventBus","$on","scrollTopSearchCont","initQqBugDetect","destroyed","$off","queryKeyword","$route","query","isKeywordValid","isQueryKeywordValid","getSearchRec","_this","searchRecArr","then","catch","err","alert","_this2","$router","replace","res","search__cont","document","getElementsByClassName","window","listener","scrollTop","addEventListener","$refs","searchCont","search_Searchvue_type_script_lang_js","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PubModuleTitle_vue_vue_type_style_index_0_id_a7532426_scoped_true_lang_less__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Search_vue_vue_type_style_index_0_id_e3b65b8e_scoped_true_lang_less__WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"static/js/Search.d3c7f78e.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppMusicList.vue?vue&type=style&index=0&id=dac178ac&lang=less&scoped=true\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppMusicList.vue?vue&type=style&index=0&id=dac178ac&lang=less&scoped=true\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h4',{staticClass:\"module_title main_box_shadow\",on:{\"click\":function($event){_vm.$emit('click',arguments[0])}}},[_vm._v(_vm._s(_vm.title))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <h4 class=\"module_title main_box_shadow\" @click=\"$emit('click',arguments[0])\">{{title}}</h4>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'PubModuleTitle',\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default() {\r\n        return ''\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import (reference) '~@/styles/constant';\r\n.module_title {\r\n  width: 100%;\r\n  height: @module_title_height;\r\n  position: relative;\r\n  z-index: 1;\r\n  text-align: center;\r\n\r\n  background-color: @white;\r\n\r\n  line-height: @module_title_height;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PubModuleTitle.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PubModuleTitle.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PubModuleTitle.vue?vue&type=template&id=a7532426&scoped=true\"\nimport script from \"./PubModuleTitle.vue?vue&type=script&lang=js\"\nexport * from \"./PubModuleTitle.vue?vue&type=script&lang=js\"\nimport style0 from \"./PubModuleTitle.vue?vue&type=style&index=0&id=a7532426&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a7532426\",\n  null\n  \n)\n\nexport default component.exports","// @@search logic\nrequire('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search) {\n  // 21.1.3.15 String.prototype.search(regexp)\n  return [function search(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[SEARCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n  }, $search];\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"music_list\"},_vm._l((_vm.musicList),function(item,index){return _c('li',{key:index,staticClass:\"music_list__item main_border_bottom\"},[_c('div',{staticClass:\"music_list__info\",on:{\"click\":function($event){_vm.wantPlay(item)}}},[_vm._t(\"index\",null,{data:index}),_c('div',{staticClass:\"music_list__name\"},[_vm._v(_vm._s(item.filename))])],2),_c('button',{staticClass:\"music_list__download\"},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-download\"}})])])])}))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ul class=\"music_list\">\r\n    <li class=\"music_list__item main_border_bottom\" v-for=\"(item,index) in musicList\" :key=\"index\">\r\n      <div class=\"music_list__info\" @click=\"wantPlay(item)\">\r\n        <slot :data=\"index\" name=\"index\" class=\"music_list__index\" @click=\"wantPlay(item)\"></slot>\r\n        <div class=\"music_list__name\">{{item.filename}}</div>\r\n      </div>\r\n      <button class=\"music_list__download\">\r\n        <svg class=\"icon\" aria-hidden=\"true\">\r\n          <use xlink:href=\"#icon-download\"></use>\r\n        </svg>\r\n      </button>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AppMusicList',\r\n  props: {\r\n    musicList: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    wantPlay(music) {\r\n      this.$store.commit('player/wantPlay', {\r\n        music,\r\n        musicList: this.$props.musicList\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import (reference) '~@/styles/constant';\r\n.music_list {\r\n  padding-left: 19px;\r\n}\r\n\r\n.music_list__item {\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: auto;\r\n  min-height: 72px;\r\n  padding: 10px 0;\r\n}\r\n\r\n.music_list__info {\r\n  display: flex;\r\n  width: 100%;\r\n  align-items: center;\r\n}\r\n.music_list__index {\r\n  width: 48px;\r\n  flex: 0 0 auto;\r\n}\r\n.music_list__name {\r\n  width: calc(100% - 48px);\r\n  flex: 1 0 auto;\r\n}\r\n\r\n.music_list__download {\r\n  box-sizing: content-box;\r\n  width: 23px;\r\n  height: 100%;\r\n  padding: 0 @padding_width;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppMusicList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppMusicList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AppMusicList.vue?vue&type=template&id=dac178ac&scoped=true\"\nimport script from \"./AppMusicList.vue?vue&type=script&lang=js\"\nexport * from \"./AppMusicList.vue?vue&type=script&lang=js\"\nimport style0 from \"./AppMusicList.vue?vue&type=style&index=0&id=dac178ac&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dac178ac\",\n  null\n  \n)\n\nexport default component.exports","import { mapMutations } from 'vuex'\r\nexport default {\r\n  updated() {\r\n    this.stopLoading()\r\n  },\r\n  methods: {\r\n    ...mapMutations(['replaceProperty']),\r\n    startLoading() {\r\n      this.replaceProperty({\r\n        paths: 'loading.isShow',\r\n        data: true\r\n      })\r\n    },\r\n    stopLoading() {\r\n      this.replaceProperty({\r\n        paths: 'loading.isShow',\r\n        data: false\r\n      })\r\n    },\r\n    setLoadingExcludeHeader() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_header'\r\n      })\r\n    },\r\n    setLoadingExcludeNav() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_nav'\r\n      })\r\n    },\r\n    setLoadingExcludeModuleTitle() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_module_title'\r\n      })\r\n    },\r\n    setLoadingExcludeSearchForm() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_search_form'\r\n      })\r\n    }\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"search\"},[_c('PubModuleTitle',{staticClass:\"search__title\",attrs:{\"title\":_vm.title}}),_c('div',{ref:\"searchCont\",staticClass:\"search__cont\"},[_c('form',{staticClass:\"search__form\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.keyword),expression:\"keyword\",modifiers:{\"trim\":true}}],staticClass:\"search__input\",attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.keyword)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getSearchRes($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.keyword=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}}),_c('button',{class:_vm.isSearchResShow?'search__btn search__btn--active':'search__btn',attrs:{\"type\":\"button\"},on:{\"click\":_vm.getSearchRes}},[_vm._v(_vm._s(_vm.title))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSearchRecShow),expression:\"isSearchRecShow\"}],staticClass:\"search__rec\"},[_c('h6',{staticClass:\"search__type\"},[_vm._v(_vm._s(_vm.searchType))]),_c('ul',{staticClass:\"search__list\"},_vm._l((_vm.searchRecArr),function(item,index){return _c('li',{key:index,staticClass:\"search__item main_border_bottom\",on:{\"click\":function($event){_vm.keyword=item.keyword;_vm.getSearchRes()}}},[_vm._v(_vm._s(item.keyword))])}))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSearchResShow),expression:\"isSearchResShow\"}],staticClass:\"search__res\"},[_c('div',{staticClass:\"search__count\"},[_vm._v(\"共有\"+_vm._s(_vm.searchRes.info.length)+\"条结果\")]),_c('AppMusicList',{staticClass:\"search__res-list\",attrs:{\"music-list\":_vm.searchRes.info}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { KU_GOU_MOBILE_CDN_ORIGIN } from './origin'\r\n\r\nexport const getHotSearch = {\r\n  method: 'GET',\r\n  url: KU_GOU_MOBILE_CDN_ORIGIN + '/api/v3/search/hot'\r\n}\r\n\r\nexport const getSearchResult = {\r\n  method: 'GET',\r\n  url: KU_GOU_MOBILE_CDN_ORIGIN + '/api/v3/search/song'\r\n}\r\n","import { getHotSearch, getSearchResult } from '../api/search'\r\nimport http from './http'\r\n\r\nexport const fetchHotSearch = ({ params = {} } = {}) => {\r\n  return http({\r\n    ...getHotSearch,\r\n    params: { format: 'json', plat: 0, count: 30, ...params }\r\n  })\r\n}\r\nexport const fetchSearchResult = ({ params = {} } = {}) => {\r\n  return http({\r\n    ...getSearchResult,\r\n    params: { format: 'json', page: 1, pagesize: 20, showtype: 1, ...params }\r\n  })\r\n}\r\n","<template>\r\n  <section class=\"search\">\r\n    <PubModuleTitle :title=\"title\" class=\"search__title\"/>\r\n    <div class=\"search__cont\" ref=\"searchCont\">\r\n      <form class=\"search__form\" @submit.prevent>\r\n        <input\r\n          type=\"text\"\r\n          :placeholder=\"placeholder\"\r\n          class=\"search__input\"\r\n          v-model.trim=\"keyword\"\r\n          @keyup.enter=\"getSearchRes\"\r\n        >\r\n        <button\r\n          :class=\"isSearchResShow?'search__btn search__btn--active':'search__btn'\"\r\n          type=\"button\"\r\n          @click=\"getSearchRes\"\r\n        >{{title}}</button>\r\n      </form>\r\n      <div class=\"search__rec\" v-show=\"isSearchRecShow\">\r\n        <h6 class=\"search__type\">{{searchType}}</h6>\r\n        <ul class=\"search__list\">\r\n          <li\r\n            class=\"search__item main_border_bottom\"\r\n            v-for=\"(item,index) in searchRecArr\"\r\n            :key=\"index\"\r\n            @click=\"keyword=item.keyword;getSearchRes()\"\r\n          >{{item.keyword}}</li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"search__res\" v-show=\"isSearchResShow\">\r\n        <div class=\"search__count\">共有{{searchRes.info.length}}条结果</div>\r\n        <AppMusicList :music-list=\"searchRes.info\" class=\"search__res-list\"/>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport PubModuleTitle from '@/components/PubModuleTitle'\r\nimport AppMusicList from '@/components/AppMusicList'\r\nimport { fetchHotSearch, fetchSearchResult } from '../../requests/search'\r\nimport bus from '@/eventBus'\r\nimport loading from '../../mixins/loading.js'\r\nimport { mapState, mapMutations } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Search',\r\n  mixins: [loading],\r\n  components: {\r\n    PubModuleTitle,\r\n    AppMusicList\r\n  },\r\n  data() {\r\n    return {\r\n      title: '搜索',\r\n      searchType: '最近热门',\r\n      placeholder: '歌手/歌名/拼音'\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('search', [\r\n      'searchRecArr',\r\n      'searchRes',\r\n      'isSearchRecShow',\r\n      'isSearchResShow'\r\n    ]),\r\n    keyword: {\r\n      get() {\r\n        return this.$store.state.search.keyword\r\n      },\r\n      set(value) {\r\n        this.replaceProperty({ paths: 'search.keyword', data: value })\r\n      }\r\n    },\r\n    isSearchRecShow: {\r\n      get() {\r\n        return this.$store.state.search.isSearchRecShow\r\n      },\r\n      set(data) {\r\n        this.replaceProperty({ paths: 'search.isSearchRecShow', data })\r\n      }\r\n    },\r\n    isSearchResShow: {\r\n      get() {\r\n        return this.$store.state.search.isSearchResShow\r\n      },\r\n      set(data) {\r\n        this.replaceProperty({ paths: 'search.isSearchResShow', data })\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.init()\r\n  },\r\n  mounted() {\r\n    bus.$on('searchBtnClicked', this.scrollTopSearchCont)\r\n    this.initQqBugDetect()\r\n  },\r\n  destroyed() {\r\n    bus.$off('searchBtnClicked', this.scrollTopSearchCont)\r\n  },\r\n  methods: {\r\n    ...mapMutations(['replaceProperty']),\r\n    init() {\r\n      let queryKeyword = this.$route.query.keyword\r\n      let isKeywordValid =\r\n        typeof this.keyword === 'string' && this.keyword !== ''\r\n      let isQueryKeywordValid =\r\n        typeof queryKeyword === 'string' && queryKeyword !== ''\r\n      if (isQueryKeywordValid && queryKeyword !== this.keyword) {\r\n        this.keyword = queryKeyword\r\n        this.getSearchRes()\r\n      } else if (isKeywordValid) {\r\n        this.isSearchRecShow = false\r\n        this.isSearchResShow = true\r\n      } else {\r\n        this.getSearchRec()\r\n      }\r\n    },\r\n    getSearchRec() {\r\n      if (this.searchRecArr.length !== 0) {\r\n        this.isSearchResShow = false\r\n        this.isSearchRecShow = true\r\n        return\r\n      }\r\n      this.setLoadingExcludeSearchForm()\r\n      this.startLoading()\r\n      fetchHotSearch()\r\n        .then(({ data }) => {\r\n          this.replaceProperty({\r\n            paths: 'search.searchRecArr',\r\n            data: data.data.info\r\n          })\r\n          this.stopLoading()\r\n          this.isSearchResShow = false\r\n          this.isSearchRecShow = true\r\n        })\r\n        .catch(err => {\r\n          alert(err)\r\n        })\r\n    },\r\n    getSearchRes() {\r\n      if (this.keyword === '') {\r\n        return\r\n      }\r\n      this.$router.replace({ query: { keyword: this.keyword } })\r\n      this.setLoadingExcludeSearchForm()\r\n      this.startLoading()\r\n      fetchSearchResult({ params: { keyword: this.keyword } }).then(res => {\r\n        let data = res.data.data\r\n        this.replaceProperty({\r\n          paths: 'search.searchRes',\r\n          data\r\n        })\r\n        this.isSearchRecShow = false\r\n        this.isSearchResShow = true\r\n        this.stopLoading()\r\n      })\r\n    },\r\n    initQqBugDetect() {\r\n      let search__cont = document.getElementsByClassName('search__cont')[0]\r\n      window.search__cont = search__cont\r\n      //! bug with qq browser\r\n      let listener = function() {\r\n        if (search__cont.scrollTop) {\r\n          // console.log(event.type, search__cont.scrollTop)\r\n        }\r\n      }\r\n      window.addEventListener('touchstart', listener)\r\n      window.addEventListener('touchmove', listener)\r\n    },\r\n    scrollTopSearchCont() {\r\n      if (this.$refs.searchCont) {\r\n        //todo smooth scroll\r\n        this.$refs.searchCont.scrollTop = 0\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import (reference) '~@/styles/constant';\r\n.search {\r\n  box-sizing: border-box;\r\n}\r\n.search__cont {\r\n  overflow: scroll;\r\n\r\n  box-sizing: border-box;\r\n  height: calc(100% - @module_title_height);\r\n}\r\n.search__form {\r\n  box-sizing: border-box;\r\n  height: @search_form_height;\r\n  padding: @padding_width;\r\n\r\n  background-color: @white-1;\r\n}\r\n.search__input,\r\n.search__btn {\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n\r\n  border-radius: 5px;\r\n}\r\n\r\n.search__input {\r\n  width: 277px;\r\n  margin-right: 10px;\r\n  padding: 7px 1px 7px 31px;\r\n\r\n  border: 1px solid @white-2;\r\n  background-color: @white;\r\n}\r\n.search__btn {\r\n  width: 60px;\r\n\r\n  color: @white-to-black;\r\n  background-color: @white-2;\r\n}\r\n.search__btn--active {\r\n  color: @white;\r\n  background: @theme;\r\n}\r\n.search__type {\r\n  height: 51px;\r\n  padding-left: 16px;\r\n\r\n  color: @theme;\r\n  border-bottom: 1px solid @white-3;\r\n\r\n  font-size: 16px;\r\n  line-height: 51px;\r\n}\r\n.search__item {\r\n  height: 64px;\r\n  margin-left: 16px;\r\n\r\n  font-size: 20px;\r\n  line-height: 64px;\r\n}\r\n.search__count {\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  padding-left: 16px;\r\n\r\n  color: @white-to-black;\r\n  background-color: @white-2;\r\n\r\n  font-size: 14px;\r\n  line-height: 28px;\r\n}\r\n.search__res-list {\r\n  overflow-y: scroll;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=e3b65b8e&scoped=true\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=e3b65b8e&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e3b65b8e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PubModuleTitle.vue?vue&type=style&index=0&id=a7532426&scoped=true&lang=less\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PubModuleTitle.vue?vue&type=style&index=0&id=a7532426&scoped=true&lang=less\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=e3b65b8e&scoped=true&lang=less\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=e3b65b8e&scoped=true&lang=less\""],"sourceRoot":""}