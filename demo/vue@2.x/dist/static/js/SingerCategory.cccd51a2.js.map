{"version":3,"sources":["webpack:///./src/views/singer/SingerCategory.vue?6381","webpack:///./src/api/singerCategory.js","webpack:///./src/requests/singerCategory.js","webpack:///src/views/singer/SingerCategory.vue","webpack:///./src/views/singer/SingerCategory.vue?8055","webpack:///./src/views/singer/SingerCategory.vue","webpack:///./src/views/singer/SingerCategory.vue?b0e7","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./src/mixins/loading.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","list","list_index","key","item","index","attrs","to","path","_v","_s","classname","aria-hidden","xlink:href","staticRenderFns","getSingerCategory","method","url","origin","singerCategory_fetchSingerCategory","_ref","arguments","length","undefined","_ref$params","params","Object","http","objectSpread","SingerCategoryvue_type_script_lang_js","name","mixins","loading","computed","vuex_esm","created","singerCategories","setLoadingExcludeNav","startLoading","getSingerCategories","methods","_this","then","data","reduce","re","obj","classid","findCategories","find","o","category","substring","push","replaceProperty","paths","stopLoading","singer_SingerCategoryvue_type_script_lang_js","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SingerCategory_vue_vue_type_style_index_0_id_1d95f400_lang_less_scoped_true__WEBPACK_IMPORTED_MODULE_0___default","$export","__webpack_require__","$find","KEY","forced","Array","P","F","callbackfn","updated","D_Demo_github_vue_demo_vue_2_x_node_modules_babel_runtime_helpers_builtin_es6_objectSpread__WEBPACK_IMPORTED_MODULE_0__","vuex__WEBPACK_IMPORTED_MODULE_1__","setLoadingExcludeHeader","setLoadingExcludeModuleTitle","setLoadingExcludeSearchForm"],"mappings":"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","file":"static/js/SingerCategory.cccd51a2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"singer_category\"},_vm._l((_vm.singerCategories),function(list,list_index){return _c('ul',{key:list_index,staticClass:\"singer_category__list main_border\"},_vm._l((list.data),function(item,index){return _c('li',{key:'1'+index,staticClass:\"singer_category__item main_border_bottom\"},[_c('router-link',{staticClass:\"singer_category__link\",attrs:{\"to\":item.path}},[_c('div',{staticClass:\"singer_category__title\"},[_vm._v(_vm._s(item.classname))]),_c('button',{staticClass:\"singer_category_btn\"},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-arrow-right\"}})])])])],1)}))}))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { BASE_ORIGIN } from './origin'\r\nexport const getSingerCategory = {\r\n  method: 'GET',\r\n  url: BASE_ORIGIN + '/singer/class&json=true'\r\n}\r\n","import { getSingerCategory } from '../api/singerCategory'\r\nimport http from './http'\r\n\r\nexport const fetchSingerCategory = ({ params = {} } = {}) => {\r\n  return http({\r\n    ...getSingerCategory,\r\n    params: { ...params }\r\n  })\r\n}\r\n","<template>\r\n  <section class=\"singer_category\">\r\n    <ul\r\n      class=\"singer_category__list main_border\"\r\n      v-for=\"(list,list_index) in singerCategories\"\r\n      :key=\"list_index\"\r\n    >\r\n      <li\r\n        class=\"singer_category__item main_border_bottom\"\r\n        v-for=\"(item,index) in list.data\"\r\n        :key=\"'1'+index\"\r\n      >\r\n        <router-link :to=\"item.path\" class=\"singer_category__link\">\r\n          <div class=\"singer_category__title\">{{item.classname}}</div>\r\n          <button class=\"singer_category_btn\">\r\n            <svg class=\"icon\" aria-hidden=\"true\">\r\n              <use xlink:href=\"#icon-arrow-right\"></use>\r\n            </svg>\r\n          </button>\r\n        </router-link>\r\n      </li>\r\n    </ul>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { fetchSingerCategory } from '../../requests/singerCategory'\r\nimport { mapState, mapMutations } from 'vuex'\r\nimport loading from '../../mixins/loading'\r\nexport default {\r\n  name: 'SingerCategory',\r\n  mixins: [loading],\r\n  computed: {\r\n    ...mapState('singer', ['singerCategories'])\r\n  },\r\n  created() {\r\n    if (this.singerCategories.length === 0) {\r\n      this.setLoadingExcludeNav()\r\n      this.startLoading()\r\n      this.getSingerCategories()\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(['replaceProperty']),\r\n    getSingerCategories() {\r\n      fetchSingerCategory().then(({ data }) => {\r\n        let singerCategories = data.list.reduce((re, obj) => {\r\n          obj.path = '/singer/list/' + obj.classid\r\n          let findCategories = re.find(\r\n            o => o.category === obj.classname.substring(0, 2)\r\n          )\r\n          if (findCategories) {\r\n            findCategories.data.push(obj)\r\n          } else {\r\n            re.push({\r\n              category: obj.classname.substring(0, 2),\r\n              data: [obj]\r\n            })\r\n          }\r\n          return re\r\n        }, [])\r\n        this.replaceProperty({\r\n          paths: 'singer.singerCategories',\r\n          data: singerCategories\r\n        })\r\n        this.stopLoading()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import (reference) '~@/styles/constant';\r\n.singer_category__list {\r\n  width: 347px;\r\n  margin: 18px auto;\r\n\r\n  // border-bottom: none;\r\n\r\n  border-radius: 6px;\r\n  background-color: @white;\r\n}\r\n\r\n.singer_category__item {\r\n  height: 50px;\r\n}\r\n\r\n.singer_category__item:last-child {\r\n  /*如果用另一种思路，设置 .singer_category__list 的 border-bottom ，\r\n  在 iPhone6/7/8 就会失败，待测试*/\r\n  border-bottom: none;\r\n}\r\n\r\n.singer_category__link {\r\n  display: block;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  height: 100%;\r\n}\r\n\r\n.singer_category__title {\r\n  display: block;\r\n\r\n  padding-left: @padding_width;\r\n}\r\n\r\n.singer_category_btn {\r\n  font-size: 20px;\r\n  margin-right: 15px;\r\n  margin-left: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerCategory.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerCategory.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SingerCategory.vue?vue&type=template&id=1d95f400&scoped=true\"\nimport script from \"./SingerCategory.vue?vue&type=script&lang=js\"\nexport * from \"./SingerCategory.vue?vue&type=script&lang=js\"\nimport style0 from \"./SingerCategory.vue?vue&type=style&index=0&id=1d95f400&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d95f400\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerCategory.vue?vue&type=style&index=0&id=1d95f400&lang=less&scoped=true\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerCategory.vue?vue&type=style&index=0&id=1d95f400&lang=less&scoped=true\"","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","import { mapMutations } from 'vuex'\r\nexport default {\r\n  updated() {\r\n    this.stopLoading()\r\n  },\r\n  methods: {\r\n    ...mapMutations(['replaceProperty']),\r\n    startLoading() {\r\n      this.replaceProperty({\r\n        paths: 'loading.isShow',\r\n        data: true\r\n      })\r\n    },\r\n    stopLoading() {\r\n      this.replaceProperty({\r\n        paths: 'loading.isShow',\r\n        data: false\r\n      })\r\n    },\r\n    setLoadingExcludeHeader() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_header'\r\n      })\r\n    },\r\n    setLoadingExcludeNav() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_nav'\r\n      })\r\n    },\r\n    setLoadingExcludeModuleTitle() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_module_title'\r\n      })\r\n    },\r\n    setLoadingExcludeSearchForm() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_search_form'\r\n      })\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}