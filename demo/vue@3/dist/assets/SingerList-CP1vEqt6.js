import{h as b,E as I,d as R,p as x,r as E,i as p,u as B,w as C,z as N,c as l,j as f,b as c,F as P,e as T,l as j,s as w,f as _,G as D,H as F,t as H,n as V,v as G,_ as M}from"./index-BDGff-9z.js";import{P as U}from"./PubModuleTitle-CCer3QNh.js";import{u as q}from"./useLoading-h2Ym-FPC.js";import{a as J}from"./mapper-BfkQCbcJ.js";import"./mapper-npPNkTNf.js";const K=({singerListId:u,params:s={}}={})=>{let{url:t,...i}=I;return t+="/"+u,b({...i,url:t,params:{json:!0,...s}})},O={class:"singer_list"},Q=["src","data-src"],W={class:"singer_list__name"},X=R({__name:"SingerList",setup(u){const s=B(),t=N(),{startLoading:i,stopLoading:L,setLoadingExcludeHeader:v}=q(),g=x("lazyLoadRoot"),o=E([]),h=p(()=>s.state.images.logo__grey),a=p(()=>s.state.singer.singerList);C(()=>a.value.data,e=>{e.length!==0&&(o.value=e.map(()=>null),V(()=>G(o.value,{root:g.value})))},{immediate:!0});const m=t.path.split("/").pop();Number(m)!==a.value.info.id&&(v(),i(),k(m));const y=(e,r)=>{o.value[e]=r};function k(e){K({params:{singerListId:e}}).then(({data:r})=>{s.commit("replaceProperty",{paths:"singer.singerList",data:J(r)}),L()})}return(e,r)=>{const S=w("router-link");return _(),l("section",O,[f(U,{title:a.value.info.name},null,8,["title"]),c("ul",{class:"singer_list__list",ref_key:"lazyLoadRoot",ref:g,"test-id":"page-singer-list"},[(_(!0),l(P,null,T(a.value.data,(n,d)=>(_(),l("li",{class:"singer_list__item main_border_bottom",key:d,"test-class":"list"},[f(S,{to:"/singer/info/"+n.singerid,class:"singer_list__link","test-class":"link"},{default:j(()=>[c("img",{class:"singer_list__img lazy_image",ref_for:!0,ref:z=>y(d,z),src:h.value,"data-src":D(F)(n.imgurl)},null,8,Q),c("div",W,H(n.singername),1)]),_:2},1032,["to"])]))),128))],512)])}}}),se=M(X,[["__scopeId","data-v-b2d5c3ec"]]);export{se as default};
