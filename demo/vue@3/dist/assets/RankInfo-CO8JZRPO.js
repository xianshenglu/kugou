import{h as x,y as R,d as L,r as S,i as n,u as B,z as C,c as D,A as M,B as y,j as N,l as c,f as d,b as u,t as o,C as b,_ as A}from"./index-BDGff-9z.js";import{P as H}from"./PubModuleHead-Dp7CNqyE.js";import{A as P}from"./AppMusicList-5duBoxvt.js";import{u as V}from"./useLoading-h2Ym-FPC.js";import{a as j}from"./mapper-Dbp8-Z5E.js";import"./mapper-npPNkTNf.js";const w=({params:s={}}={})=>x({...R,params:{json:!0,page:1,...s}}),z={class:"rank_info","test-id":"page-rank-info"},E={class:"rank_info__update_time"},F=L({__name:"RankInfo",setup(s){const r=B(),m=C(),{startLoading:p,stopLoading:f,setLoadingExcludeHeader:l}=V(),_=S("上次更新时间"),t=n(()=>r.state.rank.rankInfo),k=n(()=>({...t.value.info,name:t.value.info.rankname})),g=n(()=>t.value.songs.list),h=n(()=>{const a=new Date(t.value.songs.timestamp*1e3);return a.getFullYear()+"-"+String(a.getMonth()+1).padStart(2,"0")+"-"+String(a.getDate()).padStart(2,"0")}),I=a=>{w({params:{rankid:Number(a)}}).then(i=>{const e=j(i.data);r.commit("replaceProperty",{paths:"rank.rankInfo",data:e}),f()})},v=m.path.split("/").pop();return l(),p(),I(v),(a,i)=>(d(),D("section",z,[t.value.info?(d(),M(H,{key:0,"module-head-info":k.value},{moduleUpdateTime:c(()=>[u("time",E,o(_.value)+" "+o(h.value),1)]),_:1},8,["module-head-info"])):y("",!0),N(P,{"music-list":g.value},{index:c(e=>[u("div",{class:b("rank_info__index rank_info__index"+(e.data+1))},o(e.data+1),3)]),_:1},8,["music-list"])]))}}),K=A(F,[["__scopeId","data-v-7a063599"]]);export{K as default};
