import{h as x,y as R,d as L,r as S,i as n,u as B,z as C,c as D,A as M,B as y,j as N,l as c,f as d,b as u,t as o,C as b,_ as A}from"./index-D-sx2tSs.js";import{P as H}from"./PubModuleHead-DN8bgB6y.js";import{A as P}from"./AppMusicList-BfK8CBJZ.js";import{u as V}from"./useLoading-BpRKA1I1.js";import{a as j}from"./mapper-Dbp8-Z5E.js";import"./mapper-npPNkTNf.js";const w=({params:s={}}={})=>x({...R,params:{json:!0,page:1,...s}}),z={class:"rank_info"},E={class:"rank_info__update_time"},F=L({__name:"RankInfo",setup(s){const r=B(),m=C(),{startLoading:p,stopLoading:l,setLoadingExcludeHeader:f}=V(),_=S("上次更新时间"),e=n(()=>r.state.rank.rankInfo),k=n(()=>({...e.value.info,name:e.value.info.rankname})),g=n(()=>e.value.songs.list),h=n(()=>{const a=new Date(e.value.songs.timestamp*1e3);return a.getFullYear()+"-"+String(a.getMonth()+1).padStart(2,"0")+"-"+String(a.getDate()).padStart(2,"0")}),I=a=>{w({params:{rankid:Number(a)}}).then(i=>{const t=j(i.data);r.commit("replaceProperty",{paths:"rank.rankInfo",data:t}),l()})},v=m.path.split("/").pop();return f(),p(),I(v),(a,i)=>(d(),D("section",z,[e.value.info?(d(),M(H,{key:0,"module-head-info":k.value},{moduleUpdateTime:c(()=>[u("time",E,o(_.value)+" "+o(h.value),1)]),_:1},8,["module-head-info"])):y("",!0),N(P,{"music-list":g.value},{index:c(t=>[u("div",{class:b("rank_info__index rank_info__index"+(t.data+1))},o(t.data+1),3)]),_:1},8,["music-list"])]))}}),K=A(F,[["__scopeId","data-v-dade7cda"]]);export{K as default};
