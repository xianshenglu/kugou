import{B as I,g as R,h as b,d as x,l as B,r as E,i as p,u as T,w as N,s as C,c as l,j as f,b as c,F as P,e as j,k as w,p as D,f as g,z as F,A as G,t as M,n as V,q,_ as A}from"./index-AO6twGjP.js";import{P as H}from"./PubModuleTitle-DNUD2Br9.js";import{u as O}from"./useLoading-BrsUMYkL.js";import{a as U}from"./mapper-BGcNM0N-.js";import"./mapper-npPNkTNf.js";const $={method:"GET",url:I+"/singer/list"},J=R($,"singerList"),K=({singerListId:_,params:s={}}={})=>{let{url:t,...r}=J;return t+="/"+_,b({...r,url:t,params:{json:!0,...s}})},Q={class:"singer_list"},W=["src","data-src"],X={class:"singer_list__name"},Y=x({__name:"SingerList",setup(_){const s=T(),t=C(),{startLoading:r,stopLoading:L,setLoadingExcludeHeader:h}=O(),u=B("lazyLoadRoot"),o=E([]),v=p(()=>s.state.images.logo__grey),a=p(()=>s.state.singer.singerList);N(()=>a.value.data,e=>{e.length!==0&&(o.value=e.map(()=>null),V(()=>q(o.value,{root:u.value})))},{immediate:!0});const m=t.path.split("/").pop();Number(m)!==a.value.info.id&&(h(),r(),y(m));const k=(e,i)=>{o.value[e]=i};function y(e){K({params:{singerListId:e}}).then(({data:i})=>{s.commit("replaceProperty",{paths:"singer.singerList",data:U(i)}),L()})}return(e,i)=>{const S=D("router-link");return g(),l("section",Q,[f(H,{title:a.value.info.name},null,8,["title"]),c("ul",{class:"singer_list__list",ref_key:"lazyLoadRoot",ref:u,"test-id":"page-singer-list"},[(g(!0),l(P,null,j(a.value.data,(n,d)=>(g(),l("li",{class:"singer_list__item main_border_bottom",key:d,"test-class":"list"},[f(S,{to:"/singer/info/"+n.singerid,class:"singer_list__link","test-class":"link"},{default:w(()=>[c("img",{class:"singer_list__img lazy_image",ref_for:!0,ref:z=>k(d,z),src:v.value,"data-src":F(G)(n.imgurl)},null,8,W),c("div",X,M(n.singername),1)]),_:2},1032,["to"])]))),128))],512)])}}}),ie=A(Y,[["__scopeId","data-v-b2d5c3ec"]]);export{ie as default};
