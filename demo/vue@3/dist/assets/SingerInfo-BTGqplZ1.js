import{P as c}from"./PubModuleHead-BRIxvv2j.js";import{P as l}from"./PubModuleDes-D5dwtgdZ.js";import{A as p}from"./AppMusicList-CyT_TbED.js";import{h as f,z as d,_ as m,d as g,b as t,c as h,o as I,e as i,j as _,m as M,f as P,k as b}from"./index-DQ-XM1sd.js";import{l as L}from"./loading-BIJBkQMi.js";const S=({singerId:o,params:e={}}={})=>{let{url:n,...s}=d;return n+="/"+o+"&json=true",f({...s,url:n,params:e})},H=g({name:"SingerInfo",mixins:[L],components:{PubModuleHead:c,AppMusicList:p,PubModuleDes:l},computed:{...P("singer",["singerInfo"]),getModuleHeadInfo(){return this.singerInfo.info},getMusicList(){return this.singerInfo.data}},created(){let o=this.$route.path.split("/").pop();this.setLoadingExcludeHeader(),this.startLoading(),this.getSingerInfo(o)},methods:{...M(["replaceProperty"]),getSingerInfo(o){S({singerId:o}).then(({data:e})=>{let n={info:{id:e.info.singerid,name:e.info.singername,count:e.info.songcount,albumcount:e.info.albumcount,imgUrl:b(e.info.imgurl),intro:e.info.intro},data:e.songs.list};e.songs.list.forEach(s=>{s.name=s.filename}),this.replaceProperty({paths:"singer.singerInfo",data:n}),this.stopLoading()})}}}),$={class:"singer_info"};function A(o,e,n,s,D,k){const r=t("PubModuleDes"),a=t("PubModuleHead"),u=t("AppMusicList");return I(),h("section",$,[i(a,{"module-head-info":o.getModuleHeadInfo},{moduleDes:_(()=>[i(r,{description:o.getModuleHeadInfo.intro},null,8,["description"])]),_:1},8,["module-head-info"]),i(u,{"music-list":o.getMusicList},null,8,["music-list"])])}const B=m(H,[["render",A]]);export{B as default};
