!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function a(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?t(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function r(t,a,r){return(a=function(t){var a=function(t,a){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,a||"default");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==e(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}System.register(["./index-legacy-rMLjld0M.js"],function(e,t){"use strict";var r,n,i,l,o,c,u,s,v,d,p,f,y,_,b,g,m,h,w,x,k,P,j,O,E,z,S,L,M;return{setters:[function(e){r=e.d,n=e.r,i=e.i,l=e.u,o=e.w,c=e.K,u=e.n,s=e.o,v=e.c,d=e.F,p=e.e,f=e.Q,y=e.R,_=e.S,b=e.t,g=e.f,m=e._,h=e.b,w=e.T,x=e.H,k=e.U,P=e.j,j=e.A,O=e.V,E=e.W,z=e.X,S=e.Y,L=e.Z,M=e.M}],execute:function(){var t=document.createElement("style");t.textContent=".player_lyric[data-v-f21aafd7]{color:#ccc;overflow:scroll;font-size:4vw}.player_lyric[data-v-f21aafd7]{text-align:center}.player_lyric_text[data-v-f21aafd7]{line-height:inherit}.player_lyric_text--active[data-v-f21aafd7]{color:#d1c90e}.player_progress[data-v-52f24f79]{font-size:3.2vw;padding:4.26667vw 3.46667vw;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#e5e5e5}.player_progress__song_cur_time[data-v-52f24f79],.player_progress__song_duration[data-v-52f24f79]{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.player_progress__progress_bar[data-v-52f24f79]{-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto;height:1.06667vw;margin:0 2.66667vw;background-color:#232228;position:relative}.player_progress__progress_bar_pointer[data-v-52f24f79]{position:absolute;left:0;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background:#2ca2f9;height:3.46667vw;width:3.46667vw;border-radius:50%}.player[data-v-92153401]{position:relative}.player__mask[data-v-92153401]{position:absolute;left:0;top:0;-webkit-filter:blur(4vw);filter:blur(4vw);width:100%;height:100%;display:block;background-repeat:no-repeat,no-repeat;background-size:auto 100%,auto 100%;background-position:center,center;z-index:-1}.player__cont[data-v-92153401]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;background-color:rgba(0,0,0,.6);width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.player__song_name[data-v-92153401]{height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 54 / 609);line-height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 54 / 609);width:calc(100% - calc((var(--vh) * 100 - 100vw * 58 / 375) * 120 / 609));-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 calc((var(--vh) * 100 - 100vw * 58 / 375) * 120 / 609);overflow-x:auto;overflow-y:hidden;white-space:nowrap;color:#fff;text-align:center;font-size:inherit}.player__singer_img[data-v-92153401]{margin-top:calc((var(--vh) * 100 - 100vw * 58 / 375) * 26 / 609);height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 193 / 609);width:calc((var(--vh) * 100 - 100vw * 58 / 375) * 193 / 609);-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;border-radius:50%;animation:rotate 20s linear infinite reverse;-webkit-animation-play-state:paused;animation-play-state:paused}.player__singer_img--active[data-v-92153401]{-webkit-animation-play-state:running;animation-play-state:running}.player__lyrics[data-v-92153401]{margin-top:calc((var(--vh) * 100 - 100vw * 58 / 375) * 16 / 609);height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 68 / 609);line-height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 34 / 609);width:102%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 16vw}.player__progress[data-v-92153401]{height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 48 / 609);width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.player__buttons[data-v-92153401]{height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 58 / 609);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.player__btn_prev[data-v-92153401],.play__btn_next[data-v-92153401],.player__btn_status[data-v-92153401]{border-radius:50%;border:calc((var(--vh) * 100 - 100vw * 58 / 375) * 2 / 609) solid #fff;margin:0 calc((var(--vh) * 100 - 100vw * 58 / 375) * 16 / 609)}.player__btn_prev[data-v-92153401],.play__btn_next[data-v-92153401]{width:calc((var(--vh) * 100 - 100vw * 58 / 375) * 42 / 609);height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 42 / 609);font-size:calc((var(--vh) * 100 - 100vw * 58 / 375) * 16 / 609)}.player__btn_prev[data-v-92153401] .icon{-webkit-transform:translate(0,0px);transform:translate(0)}.play__btn_next[data-v-92153401] .icon{-webkit-transform:translate(1px,0px);transform:translate(1px)}.player__btn_status[data-v-92153401]{width:calc((var(--vh) * 100 - 100vw * 58 / 375) * 58 / 609);height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 58 / 609);font-size:calc((var(--vh) * 100 - 100vw * 58 / 375) * 20 / 609)}.player__download[data-v-92153401]{margin-top:calc((var(--vh) * 100 - 100vw * 58 / 375) * 19 / 609) auto 0;height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 45 / 609);width:calc((var(--vh) * 100 - 100vw * 58 / 375) * 211 / 609)}\n/*$vite$:1*/",document.head.appendChild(t);var T=r({__name:"PlayerLyrics",setup:function(e){var t=l(),a=n(0),r=n(!1),m=n({}),h=i(function(){return t.state.player.audioEl}),w=i(function(){return t.getters["player/lyricItems"]}),x=i(function(){return w.value.map(function(e){return e.millisecond})});o(w,function(e){0!==e.length&&(m.value={})},{immediate:!0,deep:!0});var k=function(e){if(!r.value){var t=Math.floor(1e3*e.target.currentTime),a=x.value.findIndex(function(e){return e>1.005*t}),n=a>1?a-2:0;m.value[x.value[n]]&&m.value[x.value[n]].scrollIntoView(),n.value=n}};return c(function(){u(function(){h.value.addEventListener("timeupdate",k)})}),s(function(){h.value.removeEventListener("timeupdate",k)}),function(e,t){return g(),v("div",{class:"player_lyric",onTouchstart:t[0]||(t[0]=function(e){return r.value=!0}),onTouchend:t[1]||(t[1]=function(e){return r.value=!1})},[(g(!0),v(d,null,p(w.value,function(e,t){return g(),v("p",f({ref_for:!0},y(_)("millisecond-"+e.millisecond),{key:e.millisecond,ref_for:!0,ref:function(t){return m.value[e.millisecond]=t},class:t===a.value+1?"player_lyric_text player_lyric_text--active ":"player_lyric_text"}),b(e.text),17)}),128))],32)}}}),I=m(T,[["__scopeId","data-v-f21aafd7"]]),D={class:"player_progress__song_cur_time"},C={class:"player_progress__song_duration"},H=r({__name:"PlayerProgress",setup:function(e){var t=l(),a=n(null),r=i(function(){return t.state.player.audioEl}),o=n(0),d=n(0),p=n(!1),f=n(0),_=n(null),m=i(function(){return Math.floor(100*o.value/r.value.duration)}),k=i(function(){return"background-image:linear-gradient(to right, #2ca2f9 ".concat(m.value,"%, transparent ").concat(m.value,"%),linear-gradient(to right, #6c6b70 ").concat(d.value,"%, transparent ").concat(d.value,"%)")}),P=function(){if(!(r.value.readyState<2)){var e=r.value.buffered.length;d.value=Math.floor(100*r.value.buffered.end(e-1)/r.value.duration)}},j=function(e){p.value||(o.value=e.target.currentTime)},O=function(e){p.value=!0,_.value||(_.value=a.value.getBoundingClientRect());var t=e.touches[0].clientX;o.value=S(t,_.value.left,0),f.value=t,window.addEventListener("touchmove",E),window.addEventListener("touchend",z)},E=function(e){var t=e.touches[0].clientX;o.value=S(t,f.value,1),f.value=t},z=function(){p.value=!1,r.value.currentTime=o.value,window.removeEventListener("touchmove",E),window.removeEventListener("touchend",z)},S=function(e,t,a){var n,i=(e-t)/_.value.width;switch(a){case 0:n=r.value.duration*i;break;case 1:n=n.value+r.value.duration*i}return n<0?n=0:n>r.value.duration&&(n=r.value.duration),n};return c(function(){u(function(){r.value.addEventListener("progress",P),r.value.addEventListener("timeupdate",j)})}),s(function(){r.value.removeEventListener("progress",P),r.value.removeEventListener("timeupdate",j)}),function(e,t){return g(),v("div",{class:"player_progress",onTouchstart:O},[h("div",D,b(y(w)(o.value)),1),h("div",{class:"player_progress__progress_bar",ref_key:"progressBar",ref:a,style:x(k.value)},[h("div",{class:"player_progress__progress_bar_pointer",style:x("left:".concat(m.value,"%;"))},null,4)],4),h("div",C,b(y(w)(r.value.duration)),1)],32)}}}),R=m(H,[["__scopeId","data-v-52f24f79"]]),X={key:0,class:"player"},q={class:"player__cont"},B={class:"player__song_name"},N=["src"],V={class:"player__buttons"},$=r(a(a({},{beforeRouteEnter:function(e,t,a){var r=e.query.musicHash;if(r)return e.meta.fromPlayerMed?a():S({params:{hash:r}}).then(function(e){var t=e.data.data;t.filename=t.audio_name,L.commit("player/wantPlay",{music:t,musicList:[t]}),L.commit("player/wantPlay",{music:t,musicList:[t]}),a()})}}),{},{__name:"PlayerMax",setup:function(e){var t=l(),a=M(),r=i(function(){return t.state.player.music}),n=i(function(){return t.state.player.isPlaying}),u=i(function(){return t.getters["player/singerImg"]}),d=i(function(){return t.getters["player/songName"]}),p=i(function(){return"background-image:url(".concat(u.value,"),linear-gradient(to right, rgb(48, 67, 82), rgb(215, 210, 204));")});return o(function(){return null==r?void 0:r.hash},function(e){a.replace({query:{musicHash:e}})}),c(function(){t.commit("replaceProperty",{paths:"player.isPlayerMedShow",data:!1})}),s(function(){t.commit("replaceProperty",{paths:"player.isPlayerMedShow",data:!0}),t.commit("replaceProperty",{paths:"player.isPlayerMedSmall",data:!1})}),function(e,t){return r.value?(g(),v("section",X,[h("div",{class:"player__mask",style:x(p.value)},null,4),h("div",q,[h("h6",B,b(d.value),1),h("img",{src:u.value,class:j(n.value?"player__singer_img player__singer_img--active":"player__singer_img")},null,10,N),P(I,{class:"player__lyrics"}),P(R,{class:"player__progress"}),h("div",V,[P(O,{class:"player__btn_prev"}),P(E,{class:"player__btn_status"}),P(z,{class:"play__btn_next"})]),t[0]||(t[0]=h("button",{class:"player__download"},null,-1))])])):k("",!0)}}}));e("default",m($,[["__scopeId","data-v-92153401"]]))}}})}();
