!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function r(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?t(Object(a),!0).forEach(function(t){i(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function i(t,r,i){return(r=function(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,r||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}System.register(["./index-legacy-DGGkiGYn.js"],function(e,t){"use strict";var i,a,n,o,s,l,c,u,d,p,h,v,y,m,g,b,f,_,w,x,P,k,E,T,C;return{setters:[function(e){i=e._,a=e.d,n=e.c,o=e.o,s=e.F,l=e.r,c=e.J,u=e.t,d=e.K,p=e.f,h=e.n,v=e.L,y=e.a,m=e.C,g=e.M,b=e.b,f=e.N,_=e.e,w=e.v,x=e.m,P=e.P,k=e.O,E=e.Q,T=e.R,C=e.S}],execute:function(){var t=document.createElement("style");t.textContent=".player_lyric[data-v-2488bb82]{color:#ccc;overflow:scroll;font-size:4vw}.player_lyric[data-v-2488bb82]{text-align:center}.player_lyric_text[data-v-2488bb82]{line-height:inherit}.player_lyric_text--active[data-v-2488bb82]{color:#d1c90e}.player_progress[data-v-61901117]{font-size:3.2vw;padding:4.26667vw 3.46667vw;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#e5e5e5}.player_progress__song_cur_time[data-v-61901117],.player_progress__song_duration[data-v-61901117]{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.player_progress__progress_bar[data-v-61901117]{-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto;height:1.06667vw;margin:0 2.66667vw;background-color:#232228;position:relative}.player_progress__progress_bar_pointer[data-v-61901117]{position:absolute;left:0;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background:#2ca2f9;height:3.46667vw;width:3.46667vw;border-radius:50%}.player[data-v-74839825]{position:relative}.player__mask[data-v-74839825]{position:absolute;left:0;top:0;-webkit-filter:blur(4vw);filter:blur(4vw);width:100%;height:100%;display:block;background-repeat:no-repeat,no-repeat;background-size:auto 100%,auto 100%;background-position:center,center;z-index:-1}.player__cont[data-v-74839825]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;background-color:rgba(0,0,0,.6);width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.player__song_name[data-v-74839825]{height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 54 / 609);line-height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 54 / 609);width:calc(100% - calc((var(--vh) * 100 - 100vw * 58 / 375) * 120 / 609));-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 calc((var(--vh) * 100 - 100vw * 58 / 375) * 120 / 609);overflow-x:auto;overflow-y:hidden;white-space:nowrap;color:#fff;text-align:center;font-size:inherit}.player__singer_img[data-v-74839825]{margin-top:calc((var(--vh) * 100 - 100vw * 58 / 375) * 26 / 609);height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 193 / 609);width:calc((var(--vh) * 100 - 100vw * 58 / 375) * 193 / 609);-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;border-radius:50%;animation:rotate 20s linear infinite reverse;-webkit-animation-play-state:paused;animation-play-state:paused}.player__singer_img--active[data-v-74839825]{-webkit-animation-play-state:running;animation-play-state:running}.player__lyrics[data-v-74839825]{margin-top:calc((var(--vh) * 100 - 100vw * 58 / 375) * 16 / 609);height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 68 / 609);line-height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 34 / 609);width:102%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 16vw}.player__progress[data-v-74839825]{height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 48 / 609);width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.player__buttons[data-v-74839825]{height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 58 / 609);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.player__btn_prev[data-v-74839825],.play__btn_next[data-v-74839825],.player__btn_status[data-v-74839825]{border-radius:50%;border:calc((var(--vh) * 100 - 100vw * 58 / 375) * 2 / 609) solid #fff;margin:0 calc((var(--vh) * 100 - 100vw * 58 / 375) * 16 / 609)}.player__btn_prev[data-v-74839825],.play__btn_next[data-v-74839825]{width:calc((var(--vh) * 100 - 100vw * 58 / 375) * 42 / 609);height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 42 / 609);font-size:calc((var(--vh) * 100 - 100vw * 58 / 375) * 16 / 609)}.player__btn_prev[data-v-74839825] .icon{-webkit-transform:translate(0,0px);transform:translate(0)}.play__btn_next[data-v-74839825] .icon{-webkit-transform:translate(1px,0px);transform:translate(1px)}.player__btn_status[data-v-74839825]{width:calc((var(--vh) * 100 - 100vw * 58 / 375) * 58 / 609);height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 58 / 609);font-size:calc((var(--vh) * 100 - 100vw * 58 / 375) * 20 / 609)}.player__download[data-v-74839825]{margin-top:calc((var(--vh) * 100 - 100vw * 58 / 375) * 19 / 609) auto 0;height:calc((var(--vh) * 100 - 100vw * 58 / 375) * 45 / 609);width:calc((var(--vh) * 100 - 100vw * 58 / 375) * 211 / 609)}\n/*$vite$:1*/",document.head.appendChild(t);var O=a({name:"PlayerLyrics",data:function(){return{getVBindObj:v,prevLyricIndex:0,isTouching:!1,lyricElements:[]}},computed:r(r(r({},p("player",["audioEl"])),d("player",["lyricItems"])),{},{lyricMillisecond:function(){return this.lyricItems.map(function(e){return e.millisecond})}}),watch:{lyricItems:{handler:function(e){0!==e.length&&(this.lyricElements=e.map(function(){return null}))},immediate:!0,deep:!0}},mounted:function(){var e=this;h(function(){e.audioEl.addEventListener("timeupdate",e.timeUpdateCb)})},unmounted:function(){this.audioEl.removeEventListener("timeupdate",this.timeUpdateCb)},methods:{timeUpdateCb:function(e){if(!this.isTouching){var t=Math.floor(1e3*e.target.currentTime),r=this.lyricMillisecond.findIndex(function(e){return e>1.005*t}),i=r>1?r-2:0;this.$refs&&this.$refs[this.lyricMillisecond[i]]&&this.$refs[this.lyricMillisecond[i]][0].scrollIntoView(),this.prevLyricIndex=i}}}});var j=i(O,[["render",function(e,t,r,i,a,d){return o(),n("div",{class:"player_lyric",onTouchstart:t[0]||(t[0]=function(t){return e.isTouching=!0}),onTouchend:t[1]||(t[1]=function(t){return e.isTouching=!1})},[(o(!0),n(s,null,l(e.lyricItems,function(t,r){return o(),n("p",c({ref_for:!0},e.getVBindObj("millisecond-"+t.millisecond),{key:t.millisecond,ref_for:!0,ref:function(r){return e.lyricElements[t.millisecond]=r},class:r===e.prevLyricIndex+1?"player_lyric_text player_lyric_text--active ":"player_lyric_text"}),u(t.text),17)}),128))],32)}],["__scopeId","data-v-2488bb82"]]),S=a({name:"PlayerProgress",data:function(){return{secondToMin:g,currentTime:0,loadProgress:0,isTouching:!1,touchStartX:0,progressBarRect:null}},computed:r(r({},p("player",["song","audioEl"])),{},{currentProgress:function(){return Math.floor(100*this.currentTime/this.audioEl.duration)},progressBarStyle:function(){return"background-image:linear-gradient(to right, #2ca2f9 ".concat(this.currentProgress,"%, transparent ").concat(this.currentProgress,"%),linear-gradient(to right, #6c6b70 ").concat(this.loadProgress,"%, transparent ").concat(this.loadProgress,"%)")}}),mounted:function(){var e=this;h(function(){e.audioEl.addEventListener("progress",e.progressCb),e.audioEl.addEventListener("timeupdate",e.timeUpdateCb)})},unmounted:function(){this.audioEl.removeEventListener("progress",this.progressCb),this.audioEl.removeEventListener("timeupdate",this.timeUpdateCb)},methods:{progressCb:function(){if(!(this.audioEl.readyState<2)){var e=this.audioEl.buffered.length;this.loadProgress=Math.floor(100*this.audioEl.buffered.end(e-1)/this.audioEl.duration)}},timeUpdateCb:function(e){this.isTouching||(this.currentTime=e.target.currentTime)},setCurTime:function(e){this.isTouching=!0,this.progressBarRect||(this.progressBarRect=this.$refs.progressBar.getBoundingClientRect());var t=e.touches[0].clientX;this.currentTime=this.calcCurTime(t,this.progressBarRect.left,0),this.touchStartX=t,window.addEventListener("touchmove",this.setCurTimeOnMove),window.addEventListener("touchend",this.touchEndCb)},setCurTimeOnMove:function(e){var t=e.touches[0].clientX;this.currentTime=this.calcCurTime(t,this.touchStartX,1),this.touchStartX=t},touchEndCb:function(){this.isTouching=!1,this.audioEl.currentTime=this.currentTime,window.removeEventListener("touchmove",this.setCurTimeOnMove),window.removeEventListener("touchend",this.touchEndCb)},calcCurTime:function(e,t,r){var i,a=(e-t)/this.progressBarRect.width;switch(r){case 0:i=this.audioEl.duration*a;break;case 1:i=this.currentTime+this.audioEl.duration*a}return i<0?i=0:i>this.audioEl.duration&&(i=this.audioEl.duration),i}}}),B={class:"player_progress__song_cur_time"},L={class:"player_progress__song_duration"};var M=i(S,[["render",function(e,t,r,i,a,s){return o(),n("div",{class:"player_progress",onTouchstart:t[0]||(t[0]=function(){return e.setCurTime&&e.setCurTime.apply(e,arguments)})},[y("div",B,u(e.secondToMin(e.currentTime)),1),y("div",{class:"player_progress__progress_bar",ref:"progressBar",style:m(e.progressBarStyle)},[y("div",{class:"player_progress__progress_bar_pointer",style:m("left:".concat(e.currentProgress,"%;"))},null,4)],4),y("div",L,u(e.secondToMin(e.audioEl.duration)),1)],32)}],["__scopeId","data-v-61901117"]]),I=a({name:"PlayerMax",components:{PlayerLyrics:j,PlayerProgress:M,PlayButton:E,NextButton:k,PrevButton:P},computed:r(r(r(r({},p("images",["logo__theme"])),p("player",["audioEl","isPlaying","song","music"])),d("player",["songName","singerName","singerImg"])),{},{playerBgImg:function(){return"background-image:url(".concat(this.singerImg,"),linear-gradient(to right, rgb(48, 67, 82), rgb(215, 210, 204));")}}),watch:{"music.hash":function(e){this.$router.replace({query:{musicHash:e}})}},beforeRouteEnter:function(e,t,r){var i=e.query.musicHash;if(i)return e.meta.fromPlayerMed?r():T({params:{hash:i}}).then(function(e){var t=e.data.data;t.filename=t.audio_name,C.commit("player/wantPlay",{music:t,musicList:[t]}),C.commit("player/wantPlay",{music:t,musicList:[t]}),r()})},mounted:function(){this.replaceProperty({paths:"player.isPlayerMedShow",data:!1})},unmounted:function(){this.replaceProperty({paths:"player.isPlayerMedShow",data:!0}),this.replaceProperty({paths:"player.isPlayerMedSmall",data:!1})},methods:r({},x(["replaceProperty"]))}),z={key:0,class:"player"},R={class:"player__cont"},N={class:"player__song_name"},$=["src"],U={class:"player__buttons"};e("default",i(I,[["render",function(e,t,r,i,a,s){var l=b("PlayerLyrics"),c=b("PlayerProgress"),d=b("PrevButton"),p=b("PlayButton"),h=b("NextButton");return e.music?(o(),n("section",z,[y("div",{class:"player__mask",style:m(e.playerBgImg)},null,4),y("div",R,[y("h6",N,u(e.songName),1),y("img",{src:e.singerImg,class:w(e.isPlaying?"player__singer_img player__singer_img--active":"player__singer_img")},null,10,$),_(l,{class:"player__lyrics"}),_(c,{class:"player__progress"}),y("div",U,[_(d,{class:"player__btn_prev"}),_(p,{class:"player__btn_status"}),_(h,{class:"play__btn_next"})]),t[0]||(t[0]=y("button",{class:"player__download"},null,-1))])])):f("",!0)}],["__scopeId","data-v-74839825"]]))}}})}();
