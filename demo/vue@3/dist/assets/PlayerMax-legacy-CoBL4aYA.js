!function(){function e(a){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(a)}var a=["fromPlayerMed"];function r(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,t)}return r}function t(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach(function(a){n(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function n(a,r,t){return(r=function(a){var r=function(a,r){if("object"!=e(a)||!a)return a;var t=a[Symbol.toPrimitive];if(void 0!==t){var n=t.call(a,r||"default");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(a)}(a,"string");return"symbol"==e(r)?r:r+""}(r))in a?Object.defineProperty(a,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[r]=t,a}System.register(["./index-legacy-xFWWZ2K6.js"],function(e,r){"use strict";var n,l,i,o,c,v,s,u,f,p,d,y,_,b,w,g,m,h,x,k,P,O,j,E,S,z,L,I,M,T;return{setters:[function(e){n=e.d,l=e.r,i=e.i,o=e.u,c=e.w,v=e.G,s=e.n,u=e.o,f=e.c,p=e.F,d=e.e,y=e.N,_=e.z,b=e.O,w=e.t,g=e.f,m=e._,h=e.l,x=e.b,k=e.P,P=e.E,O=e.x,j=e.j,E=e.y,S=e.Q,z=e.R,L=e.S,I=e.T,M=e.U,T=e.I}],execute:function(){var r=document.createElement("style");r.textContent=".player_lyric[data-v-6866e833]{color:#ccc;overflow:scroll;font-size:calc(var(--vw, 1vw) * 4)}.player_lyric[data-v-6866e833]{text-align:center}.player_lyric_text[data-v-6866e833]{line-height:inherit}.player_lyric_text--active[data-v-6866e833]{color:#d1c90e}.player_progress[data-v-2e49df67]{font-size:calc(var(--vw, 1vw) * 3.2);padding:calc(var(--vw, 1vw) * 4.26667) calc(var(--vw, 1vw) * 3.46667);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#e5e5e5}.player_progress__song_cur_time[data-v-2e49df67],.player_progress__song_duration[data-v-2e49df67]{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.player_progress__progress_bar[data-v-2e49df67]{-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto;height:calc(var(--vw, 1vw) * 1.06667);margin:0 calc(var(--vw, 1vw) * 2.66667);background-color:#232228;position:relative}.player_progress__progress_bar_pointer[data-v-2e49df67]{position:absolute;left:0;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background:#2ca2f9;height:calc(var(--vw, 1vw) * 3.46667);width:calc(var(--vw, 1vw) * 3.46667);border-radius:50%}.player[data-v-f54ee02e]{position:relative}.player__mask[data-v-f54ee02e]{position:absolute;left:0;top:0;-webkit-filter:blur(calc(var(--vw, 1vw) * 4));filter:blur(calc(var(--vw, 1vw) * 4));width:100%;height:100%;display:block;background-repeat:no-repeat,no-repeat;background-size:auto 100%,auto 100%;background-position:center,center;z-index:-1}.player__cont[data-v-f54ee02e]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column;flex-flow:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;background-color:rgba(0,0,0,.6);width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.player__song_name[data-v-f54ee02e]{height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 54 / 609);line-height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 54 / 609);width:calc(100% - calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 120 / 609));-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 120 / 609);overflow-x:auto;overflow-y:hidden;white-space:nowrap;color:#fff;text-align:center;font-size:inherit}.player__singer_img[data-v-f54ee02e]{margin-top:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 26 / 609);height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 193 / 609);width:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 193 / 609);-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;border-radius:50%;animation:rotate 20s linear infinite reverse;-webkit-animation-play-state:paused;animation-play-state:paused}.player__singer_img--active[data-v-f54ee02e]{-webkit-animation-play-state:running;animation-play-state:running}.player__lyrics[data-v-f54ee02e]{margin-top:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 16 / 609);height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 68 / 609);line-height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 34 / 609);width:102%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 calc(var(--vw, 1vw) * 16)}.player__progress[data-v-f54ee02e]{height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 48 / 609);width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.player__buttons[data-v-f54ee02e]{height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 58 / 609);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.player__btn_prev[data-v-f54ee02e],.play__btn_next[data-v-f54ee02e],.player__btn_status[data-v-f54ee02e]{border-radius:50%;border:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 2 / 609) solid #fff;margin:0 calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 16 / 609)}.player__btn_prev[data-v-f54ee02e],.play__btn_next[data-v-f54ee02e]{width:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 42 / 609);height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 42 / 609);font-size:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 16 / 609)}.player__btn_prev[data-v-f54ee02e] .icon{-webkit-transform:translate(0,0px);transform:translate(0)}.play__btn_next[data-v-f54ee02e] .icon{-webkit-transform:translate(1px,0px);transform:translate(1px)}.player__btn_status[data-v-f54ee02e]{width:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 58 / 609);height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 58 / 609);font-size:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 20 / 609)}.player__download[data-v-f54ee02e]{margin-top:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 19 / 609) auto 0;height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 45 / 609);width:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 211 / 609)}\n/*$vite$:1*/",document.head.appendChild(r);var q=n({__name:"PlayerLyrics",setup:function(e){var a=o(),r=l(0),t=l(!1),n=l({}),m=i(function(){return a.state.player.audioEl}),h=i(function(){return a.getters["player/lyricItems"]}),x=i(function(){return h.value.map(function(e){return e.millisecond})});c(h,function(e){0!==e.length&&(n.value={})},{immediate:!0,deep:!0});var k=function(e){if(!t.value){var a=Math.floor(1e3*e.target.currentTime),l=x.value.findIndex(function(e){return e>1.005*a}),i=l>1?l-2:0,o=x.value[i];n.value[o]&&n.value[o].scrollIntoView(),r.value=i}};return v(function(){s(function(){m.value.addEventListener("timeupdate",k)})}),u(function(){m.value.removeEventListener("timeupdate",k)}),function(e,a){return g(),f("div",{class:"player_lyric","test-id":"player-max-lyrics",onTouchstart:a[0]||(a[0]=function(e){return t.value=!0}),onTouchend:a[1]||(a[1]=function(e){return t.value=!1})},[(g(!0),f(p,null,d(h.value,function(e,a){return g(),f("p",y({ref_for:!0},_(b)("millisecond-"+e.millisecond),{key:e.millisecond,ref_for:!0,ref:function(a){return n.value[e.millisecond]=a},class:a===r.value+1?"player_lyric_text player_lyric_text--active ":"player_lyric_text"}),w(e.text),17)}),128))],32)}}}),D=m(q,[["__scopeId","data-v-6866e833"]]),B={class:"player_progress__song_cur_time"},C={class:"player_progress__song_duration"},N=n({__name:"PlayerProgress",setup:function(e){var a=o(),r=h("progressBar"),t=i(function(){return a.state.player.audioEl}),n=l(0),c=l(0),p=l(!1),d=l(0),y=l(null),b=i(function(){return Math.floor(100*n.value/t.value.duration)}),m=i(function(){return"background-image:linear-gradient(to right, #2ca2f9 ".concat(b.value,"%, transparent ").concat(b.value,"%),linear-gradient(to right, #6c6b70 ").concat(c.value,"%, transparent ").concat(c.value,"%)")}),O=function(){if(!(t.value.readyState<2)){var e=t.value.buffered.length;c.value=Math.floor(100*t.value.buffered.end(e-1)/t.value.duration)}},j=function(e){p.value||(n.value=e.target.currentTime)},E=function(e){p.value=!0,y.value||(y.value=r.value.getBoundingClientRect());var a=e.touches[0].clientX;n.value=L(a,y.value.left,0),d.value=a,window.addEventListener("touchmove",S),window.addEventListener("touchend",z)},S=function(e){var a=e.touches[0].clientX;n.value=L(a,d.value,1),d.value=a},z=function(){p.value=!1,t.value.currentTime=n.value,window.removeEventListener("touchmove",S),window.removeEventListener("touchend",z)},L=function(e,a,r){var l,i=(e-a)/y.value.width;switch(r){case 0:l=t.value.duration*i;break;case 1:l=n.value+t.value.duration*i}return l<0?l=0:l>t.value.duration&&(l=t.value.duration),l};return v(function(){s(function(){t.value.addEventListener("progress",O),t.value.addEventListener("timeupdate",j)})}),u(function(){t.value.removeEventListener("progress",O),t.value.removeEventListener("timeupdate",j)}),function(e,a){return g(),f("div",{class:"player_progress","test-id":"player-max-progress",onTouchstart:E},[x("div",B,w(_(k)(n.value)),1),x("div",{class:"player_progress__progress_bar",ref_key:"progressBar",ref:r,style:P(m.value)},[x("div",{class:"player_progress__progress_bar_pointer",style:P("left:".concat(b.value,"%;"))},null,4)],4),x("div",C,w(_(k)(t.value.duration)),1)],32)}}}),R=m(N,[["__scopeId","data-v-2e49df67"]]),H={key:0,class:"player","test-id":"player-max"},X={class:"player__cont"},$={class:"player__song_name","test-id":"player-max-song-name"},F=["src"],G={class:"player__buttons"},Q={beforeRouteEnter:function(e,r,n){var l=e.query.musicHash;if(l){var i=e.query,o=i.fromPlayerMed,c=function(e,a){if(null==e)return{};var r,t,n=function(e,a){if(null==e)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(-1!==a.indexOf(t))continue;r[t]=e[t]}return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)r=l[t],-1===a.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(i,a);return o?n(t(t({},e),{},{query:c})):I({params:{hash:l}}).then(function(e){var a=e.data.data;a.filename=a.audio_name,M.commit("player/wantPlay",{music:a,musicList:[a]}),M.commit("player/wantPlay",{music:a,musicList:[a]}),n()})}}},U=n(t(t({},Q),{},{__name:"PlayerMax",setup:function(e){var a=o(),r=T(),t=i(function(){return a.state.player.music}),n=i(function(){return a.state.player.isPlaying}),l=i(function(){return a.getters["player/singerImg"]}),s=i(function(){return a.getters["player/songName"]}),p=i(function(){return"background-image:url(".concat(l.value,"),linear-gradient(to right, rgb(48, 67, 82), rgb(215, 210, 204));")});return c(function(){var e;return null===(e=t.value)||void 0===e?void 0:e.hash},function(e){r.replace({query:{musicHash:e}})}),v(function(){a.commit("replaceProperty",{paths:"player.isPlayerMedShow",data:!1})}),u(function(){a.commit("replaceProperty",{paths:"player.isPlayerMedShow",data:!0}),a.commit("replaceProperty",{paths:"player.isPlayerMedSmall",data:!1})}),function(e,a){return t.value?(g(),f("section",H,[x("div",{class:"player__mask",style:P(p.value)},null,4),x("div",X,[x("h6",$,w(s.value),1),x("img",{src:l.value,class:E(n.value?"player__singer_img player__singer_img--active":"player__singer_img")},null,10,F),j(D,{class:"player__lyrics"}),j(R,{class:"player__progress"}),x("div",G,[j(S,{class:"player__btn_prev"}),j(z,{class:"player__btn_status"}),j(L,{class:"play__btn_next"})]),a[0]||(a[0]=x("button",{class:"player__download"},null,-1))])])):O("",!0)}}}));e("default",m(U,[["__scopeId","data-v-f54ee02e"]]))}}})}();
