"use strict";(self["webpackChunkkugou"]=self["webpackChunkkugou"]||[]).push([[119],{1710:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var s=a(641),i=a(2644);(0,s.Qi)("data-v-73d8b9e0");const n={class:"singer_list"},r={class:"singer_list__list",ref:"lazyLoadRoot"},l=["src","data-src"],o={class:"singer_list__name"};function d(e,t,a,d,g,c){const u=(0,s.g2)("PubModuleTitle"),p=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("section",n,[(0,s.bF)(u,{title:e.singerList.info.name},null,8,["title"]),(0,s.Lk)("ul",r,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.singerList.data,(t,a)=>((0,s.uX)(),(0,s.CE)("li",{class:"singer_list__item main_border_bottom",key:a},[(0,s.bF)(p,{to:t.path,class:"singer_list__link"},{default:(0,s.k6)(()=>[(0,s.Lk)("img",{class:"singer_list__img lazy_image",ref:t=>e.saveImageRef(a,t),src:e.logo__grey,"data-src":t.imgUrl},null,8,l),(0,s.Lk)("div",o,(0,i.v_)(t.name),1)]),_:2},1032,["to"])]))),128))],512)])}(0,s.jt)();a(8111),a(7588),a(1701);var g=a(5897),c=a(5984),u=a(8711);const p=({singerListId:e,params:t={}}={})=>{let{url:a,...s}=u.v;return a+="/"+e,(0,c.A)({...s,url:a,params:{json:!0,...t}})};var m=a(5382),h=a(1981),_=a(6278),L=a(9525),f=(0,s.pM)({name:"SingerList",mixins:[m.A],components:{PubModuleTitle:g.A},computed:{...(0,_.aH)("images",["logo__grey"]),...(0,_.aH)("singer",["singerList"]),...(0,_.aH)("loading",{isLoadingShow:"isShow"})},data(){return{lazyImageElements:[]}},watch:{"singerList.data":{handler:function(e){0!==e.length&&(this.lazyImageElements=e.map(()=>null),(0,s.dY)(()=>(0,h.jc)(this.lazyImageElements,{root:this.$refs.lazyLoadRoot})))},immediate:!0,deep:!0}},created(){let e=this.$route.path.split("/").pop();Number(e)!==this.singerList.info.id&&(this.setLoadingExcludeHeader(),this.startLoading(),this.getSingerList(e))},methods:{...(0,_.PY)(["replaceProperty"]),saveImageRef(e,t){this.lazyImageElements[e]=t},getSingerList(e){p({params:{singerListId:e}}).then(({data:e})=>{let t={info:{id:e.classid,name:e.classname,count:e.singers.total},data:e.singers.list.info};e.singers.list.info.forEach(e=>{e.id=e.singerid,e.name=e.singername,e.imgUrl=(0,L.A)(e.imgurl),e.path="/singer/info/"+e.id}),this.replaceProperty({paths:"singer.singerList",data:t}),this.stopLoading()})}}}),y=a(6262);const v=(0,y.A)(f,[["render",d],["__scopeId","data-v-73d8b9e0"]]);var k=v},5382:function(e,t,a){var s=a(6278);t.A={updated(){this.stopLoading()},methods:{...(0,s.PY)(["replaceProperty"]),startLoading(){this.replaceProperty({paths:"loading.isShow",data:!0})},stopLoading(){this.replaceProperty({paths:"loading.isShow",data:!1})},setLoadingExcludeHeader(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_header"})},setLoadingExcludeNav(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_nav"})},setLoadingExcludeModuleTitle(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_module_title"})},setLoadingExcludeSearchForm(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_search_form"})}}}},5897:function(e,t,a){a.d(t,{A:function(){return d}});var s=a(641),i=a(2644);function n(e,t,a,n,r,l){return(0,s.uX)(),(0,s.CE)("h4",{class:"module_title main_box_shadow",onClick:t[0]||(t[0]=t=>e.$emit("click",arguments[0]))},(0,i.v_)(e.title),1)}var r=(0,s.pM)({emits:["click"],name:"PubModuleTitle",props:{title:{type:String,default(){return""}}}}),l=a(6262);const o=(0,l.A)(r,[["render",n],["__scopeId","data-v-ac7e64d2"]]);var d=o}}]);
//# sourceMappingURL=SingerList.75fcdaf2.js.map