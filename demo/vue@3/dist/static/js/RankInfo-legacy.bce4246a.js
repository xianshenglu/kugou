"use strict";(self["webpackChunkkugou"]=self["webpackChunkkugou"]||[]).push([[145],{662:function(t,n,a){a.r(n),a.d(n,{default:function(){return k}});var e=a(6913);(0,e.Qi)("data-v-af23c29a");var i={class:"rank_info"},o={class:"rank_info__update_time"};function s(t,n,a,s,r,u){var d=(0,e.g2)("PubModuleHead"),c=(0,e.g2)("AppMusicList");return(0,e.uX)(),(0,e.CE)("section",i,[(0,e.bF)(d,{"module-head-info":t.getModuleHeadInfo},{moduleUpdateTime:(0,e.k6)(function(){return[(0,e.Lk)("time",o,(0,e.v_)(t.msg)+" "+(0,e.v_)(t.formatDate),1)]}),_:1},8,["module-head-info"]),(0,e.bF)(c,{"music-list":t.getMusicList},{index:(0,e.k6)(function(t){return[(0,e.Lk)("div",{class:(0,e.C4)("rank_info__index rank_info__index"+(t.data+1))},(0,e.v_)(t.data+1),3)]}),_:1},8,["music-list"])])}(0,e.jt)();var r=a(1034),u=(a(8156),a(3570)),d=a(1719),c=a(5984),l=a(9205),f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.params,a=void 0===n?{}:n;return(0,c.A)((0,r.A)((0,r.A)({},l.L),{},{params:(0,r.A)({json:!0,page:1},a)}))},p=a(6278),m=a(5382),_=a(9525),g=(0,e.pM)({name:"RankInfo",mixins:[m.A],components:{PubModuleHead:u.A,AppMusicList:d.A},data:function(){return{msg:"上次更新时间"}},computed:(0,r.A)((0,r.A)({},(0,p.aH)("rank",["rankInfo"])),{},{getModuleHeadInfo:function(){return{imgUrl:(0,_.A)(this.rankInfo.info.banner7url),name:this.rankInfo.info.rankname}},getMusicList:function(){return this.rankInfo.songs.list},formatDate:function(){var t=new Date(1e3*this.rankInfo.songs.timestamp);return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")}}),created:function(){var t=this.$route.path.split("/").pop();this.setLoadingExcludeHeader(),this.startLoading(),this.getRankInfo(t)},methods:(0,r.A)((0,r.A)({},(0,p.PY)(["replaceProperty"])),{},{getRankInfo:function(t){var n=this;f({params:{rankid:t}}).then(function(t){var a={info:t.data.info,songs:t.data.songs};n.replaceProperty({paths:"rank.rankInfo",data:a}),n.stopLoading()})}})}),h=a(6262);const v=(0,h.A)(g,[["render",s],["__scopeId","data-v-af23c29a"]]);var k=v},1719:function(t,n,a){a.d(n,{A:function(){return f}});var e=a(6913);(0,e.Qi)("data-v-413d897e");var i={class:"music_list"},o=["onClick"],s={class:"music_list__name"},r=(0,e.Lk)("button",{class:"music_list__download"},[(0,e.Lk)("svg",{class:"icon","aria-hidden":"true"},[(0,e.Lk)("use",{"xlink:href":"#icon-download"})])],-1);function u(t,n,a,u,d,c){return(0,e.uX)(),(0,e.CE)("ul",i,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(t.musicList,function(n,a){return(0,e.uX)(),(0,e.CE)("li",{class:"music_list__item main_border_bottom",key:a},[(0,e.Lk)("div",{class:"music_list__info",onClick:function(a){return t.wantPlay(n)}},[(0,e.RG)(t.$slots,"index",{data:a,class:"music_list__index",onClick:function(a){return t.wantPlay(n)}},void 0,!0),(0,e.Lk)("div",s,(0,e.v_)(n.filename),1)],8,o),r])}),128))])}(0,e.jt)();var d=(0,e.pM)({name:"AppMusicList",props:{musicList:{type:Array,default:function(){return[]}}},methods:{wantPlay:function(t){this.$store.commit("player/wantPlay",{music:t,musicList:this.$props.musicList})}}}),c=a(6262);const l=(0,c.A)(d,[["render",u],["__scopeId","data-v-413d897e"]]);var f=l},2010:function(t,n,a){var e=a(3724),i=a(350).EXISTS,o=a(9504),s=a(2106),r=Function.prototype,u=o(r.toString),d=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,c=o(d.exec),l="name";e&&!i&&s(r,l,{configurable:!0,get:function(){try{return c(d,u(this))[1]}catch(t){return""}}})},3570:function(t,n,a){a.d(n,{A:function(){return d}});a(2010);var e=a(6913);(0,e.Qi)("data-v-168a44dd");var i={class:"module__title"};function o(t,n,a,o,s,r){return(0,e.uX)(),(0,e.CE)("div",null,[(0,e.Lk)("div",{class:"module__head",style:(0,e.Tr)("background-image:url("+t.moduleHeadInfo.imgUrl+")")},[(0,e.Lk)("h6",i,(0,e.v_)(t.moduleHeadInfo.name),1),(0,e.RG)(t.$slots,"moduleUpdateTime",{},void 0,!0)],4),(0,e.RG)(t.$slots,"moduleDes",{},void 0,!0)])}(0,e.jt)();var s=(0,e.pM)({name:"PubModuleHead",props:{moduleHeadInfo:{type:Object,default:function(){return{}}}}}),r=a(6262);const u=(0,r.A)(s,[["render",o],["__scopeId","data-v-168a44dd"]]);var d=u},5382:function(t,n,a){var e=a(1034),i=a(6278);n.A={updated:function(){this.stopLoading()},methods:(0,e.A)((0,e.A)({},(0,i.PY)(["replaceProperty"])),{},{startLoading:function(){this.replaceProperty({paths:"loading.isShow",data:!0})},stopLoading:function(){this.replaceProperty({paths:"loading.isShow",data:!1})},setLoadingExcludeHeader:function(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_header"})},setLoadingExcludeNav:function(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_nav"})},setLoadingExcludeModuleTitle:function(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_module_title"})},setLoadingExcludeSearchForm:function(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_search_form"})}})}}}]);
//# sourceMappingURL=RankInfo-legacy.bce4246a.js.map