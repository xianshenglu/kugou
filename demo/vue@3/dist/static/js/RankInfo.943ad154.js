"use strict";(self["webpackChunkkugou"]=self["webpackChunkkugou"]||[]).push([[145],{662:function(a,e,t){t.r(e),t.d(e,{default:function(){return k}});var s=t(6913);(0,s.Qi)("data-v-af23c29a");const n={class:"rank_info"},i={class:"rank_info__update_time"};function o(a,e,t,o,d,r){const l=(0,s.g2)("PubModuleHead"),u=(0,s.g2)("AppMusicList");return(0,s.uX)(),(0,s.CE)("section",n,[(0,s.bF)(l,{"module-head-info":a.getModuleHeadInfo},{moduleUpdateTime:(0,s.k6)(()=>[(0,s.Lk)("time",i,(0,s.v_)(a.msg)+" "+(0,s.v_)(a.formatDate),1)]),_:1},8,["module-head-info"]),(0,s.bF)(u,{"music-list":a.getMusicList},{index:(0,s.k6)(a=>[(0,s.Lk)("div",{class:(0,s.C4)("rank_info__index rank_info__index"+(a.data+1))},(0,s.v_)(a.data+1),3)]),_:1},8,["music-list"])])}(0,s.jt)();var d=t(3570),r=t(1719),l=t(5984),u=t(9205);const c=({params:a={}}={})=>(0,l.A)({...u.L,params:{json:!0,page:1,...a}});var p=t(6278),m=t(5382),_=t(9525),f=(0,s.pM)({name:"RankInfo",mixins:[m.A],components:{PubModuleHead:d.A,AppMusicList:r.A},data(){return{msg:"上次更新时间"}},computed:{...(0,p.aH)("rank",["rankInfo"]),getModuleHeadInfo(){return{imgUrl:(0,_.A)(this.rankInfo.info.banner7url),name:this.rankInfo.info.rankname}},getMusicList(){return this.rankInfo.songs.list},formatDate(){let a=new Date(1e3*this.rankInfo.songs.timestamp);return a.getFullYear()+"-"+String(a.getMonth()+1).padStart(2,"0")+"-"+String(a.getDate()).padStart(2,"0")}},created(){let a=this.$route.path.split("/").pop();this.setLoadingExcludeHeader(),this.startLoading(),this.getRankInfo(a)},methods:{...(0,p.PY)(["replaceProperty"]),getRankInfo(a){c({params:{rankid:a}}).then(a=>{let e={info:a.data.info,songs:a.data.songs};this.replaceProperty({paths:"rank.rankInfo",data:e}),this.stopLoading()})}}}),g=t(6262);const h=(0,g.A)(f,[["render",o],["__scopeId","data-v-af23c29a"]]);var k=h},1719:function(a,e,t){t.d(e,{A:function(){return p}});var s=t(6913);(0,s.Qi)("data-v-413d897e");const n={class:"music_list"},i=["onClick"],o={class:"music_list__name"},d=(0,s.Lk)("button",{class:"music_list__download"},[(0,s.Lk)("svg",{class:"icon","aria-hidden":"true"},[(0,s.Lk)("use",{"xlink:href":"#icon-download"})])],-1);function r(a,e,t,r,l,u){return(0,s.uX)(),(0,s.CE)("ul",n,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.musicList,(e,t)=>((0,s.uX)(),(0,s.CE)("li",{class:"music_list__item main_border_bottom",key:t},[(0,s.Lk)("div",{class:"music_list__info",onClick:t=>a.wantPlay(e)},[(0,s.RG)(a.$slots,"index",{data:t,class:"music_list__index",onClick:t=>a.wantPlay(e)},void 0,!0),(0,s.Lk)("div",o,(0,s.v_)(e.filename),1)],8,i),d]))),128))])}(0,s.jt)();var l=(0,s.pM)({name:"AppMusicList",props:{musicList:{type:Array,default(){return[]}}},methods:{wantPlay(a){this.$store.commit("player/wantPlay",{music:a,musicList:this.$props.musicList})}}}),u=t(6262);const c=(0,u.A)(l,[["render",r],["__scopeId","data-v-413d897e"]]);var p=c},3570:function(a,e,t){t.d(e,{A:function(){return l}});var s=t(6913);(0,s.Qi)("data-v-168a44dd");const n={class:"module__title"};function i(a,e,t,i,o,d){return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",{class:"module__head",style:(0,s.Tr)("background-image:url("+a.moduleHeadInfo.imgUrl+")")},[(0,s.Lk)("h6",n,(0,s.v_)(a.moduleHeadInfo.name),1),(0,s.RG)(a.$slots,"moduleUpdateTime",{},void 0,!0)],4),(0,s.RG)(a.$slots,"moduleDes",{},void 0,!0)])}(0,s.jt)();var o=(0,s.pM)({name:"PubModuleHead",props:{moduleHeadInfo:{type:Object,default(){return{}}}}}),d=t(6262);const r=(0,d.A)(o,[["render",i],["__scopeId","data-v-168a44dd"]]);var l=r},5382:function(a,e,t){var s=t(6278);e.A={updated(){this.stopLoading()},methods:{...(0,s.PY)(["replaceProperty"]),startLoading(){this.replaceProperty({paths:"loading.isShow",data:!0})},stopLoading(){this.replaceProperty({paths:"loading.isShow",data:!1})},setLoadingExcludeHeader(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_header"})},setLoadingExcludeNav(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_nav"})},setLoadingExcludeModuleTitle(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_module_title"})},setLoadingExcludeSearchForm(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_search_form"})}}}}}]);
//# sourceMappingURL=RankInfo.943ad154.js.map