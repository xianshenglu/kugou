"use strict";(self["webpackChunkkugou"]=self["webpackChunkkugou"]||[]).push([[145],{662:function(a,e,t){t.r(e),t.d(e,{default:function(){return v}});var s=t(641),n=t(2644);(0,s.Qi)("data-v-af23c29a");const i={class:"rank_info"},o={class:"rank_info__update_time"};function d(a,e,t,d,r,l){const u=(0,s.g2)("PubModuleHead"),c=(0,s.g2)("AppMusicList");return(0,s.uX)(),(0,s.CE)("section",i,[(0,s.bF)(u,{"module-head-info":a.getModuleHeadInfo},{moduleUpdateTime:(0,s.k6)(()=>[(0,s.Lk)("time",o,(0,n.v_)(a.msg)+" "+(0,n.v_)(a.formatDate),1)]),_:1},8,["module-head-info"]),(0,s.bF)(c,{"music-list":a.getMusicList},{index:(0,s.k6)(a=>[(0,s.Lk)("div",{class:(0,n.C4)("rank_info__index rank_info__index"+(a.data+1))},(0,n.v_)(a.data+1),3)]),_:1},8,["music-list"])])}(0,s.jt)();var r=t(3570),l=t(1719),u=t(5984),c=t(9205);const p=({params:a={}}={})=>(0,u.A)({...c.L,params:{json:!0,page:1,...a}});var m=t(6278),_=t(5382),f=t(9525),g=(0,s.pM)({name:"RankInfo",mixins:[_.A],components:{PubModuleHead:r.A,AppMusicList:l.A},data(){return{msg:"上次更新时间"}},computed:{...(0,m.aH)("rank",["rankInfo"]),getModuleHeadInfo(){return{imgUrl:(0,f.A)(this.rankInfo.info.banner7url),name:this.rankInfo.info.rankname}},getMusicList(){return this.rankInfo.songs.list},formatDate(){let a=new Date(1e3*this.rankInfo.songs.timestamp);return a.getFullYear()+"-"+String(a.getMonth()+1).padStart(2,"0")+"-"+String(a.getDate()).padStart(2,"0")}},created(){let a=this.$route.path.split("/").pop();this.setLoadingExcludeHeader(),this.startLoading(),this.getRankInfo(a)},methods:{...(0,m.PY)(["replaceProperty"]),getRankInfo(a){p({params:{rankid:a}}).then(a=>{let e={info:a.data.info,songs:a.data.songs};this.replaceProperty({paths:"rank.rankInfo",data:e}),this.stopLoading()})}}}),h=t(6262);const k=(0,h.A)(g,[["render",d],["__scopeId","data-v-af23c29a"]]);var v=k},1719:function(a,e,t){t.d(e,{A:function(){return m}});var s=t(641),n=t(2644);(0,s.Qi)("data-v-413d897e");const i={class:"music_list"},o=["onClick"],d={class:"music_list__name"},r=(0,s.Lk)("button",{class:"music_list__download"},[(0,s.Lk)("svg",{class:"icon","aria-hidden":"true"},[(0,s.Lk)("use",{"xlink:href":"#icon-download"})])],-1);function l(a,e,t,l,u,c){return(0,s.uX)(),(0,s.CE)("ul",i,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.musicList,(e,t)=>((0,s.uX)(),(0,s.CE)("li",{class:"music_list__item main_border_bottom",key:t},[(0,s.Lk)("div",{class:"music_list__info",onClick:t=>a.wantPlay(e)},[(0,s.RG)(a.$slots,"index",{data:t,class:"music_list__index",onClick:t=>a.wantPlay(e)},void 0,!0),(0,s.Lk)("div",d,(0,n.v_)(e.filename),1)],8,o),r]))),128))])}(0,s.jt)();var u=(0,s.pM)({name:"AppMusicList",props:{musicList:{type:Array,default(){return[]}}},methods:{wantPlay(a){this.$store.commit("player/wantPlay",{music:a,musicList:this.$props.musicList})}}}),c=t(6262);const p=(0,c.A)(u,[["render",l],["__scopeId","data-v-413d897e"]]);var m=p},3570:function(a,e,t){t.d(e,{A:function(){return u}});var s=t(641),n=t(2644);(0,s.Qi)("data-v-168a44dd");const i={class:"module__title"};function o(a,e,t,o,d,r){return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",{class:"module__head",style:(0,n.Tr)("background-image:url("+a.moduleHeadInfo.imgUrl+")")},[(0,s.Lk)("h6",i,(0,n.v_)(a.moduleHeadInfo.name),1),(0,s.RG)(a.$slots,"moduleUpdateTime",{},void 0,!0)],4),(0,s.RG)(a.$slots,"moduleDes",{},void 0,!0)])}(0,s.jt)();var d=(0,s.pM)({name:"PubModuleHead",props:{moduleHeadInfo:{type:Object,default(){return{}}}}}),r=t(6262);const l=(0,r.A)(d,[["render",o],["__scopeId","data-v-168a44dd"]]);var u=l},5382:function(a,e,t){var s=t(6278);e.A={updated(){this.stopLoading()},methods:{...(0,s.PY)(["replaceProperty"]),startLoading(){this.replaceProperty({paths:"loading.isShow",data:!0})},stopLoading(){this.replaceProperty({paths:"loading.isShow",data:!1})},setLoadingExcludeHeader(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_header"})},setLoadingExcludeNav(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_nav"})},setLoadingExcludeModuleTitle(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_module_title"})},setLoadingExcludeSearchForm(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_search_form"})}}}}}]);
//# sourceMappingURL=RankInfo.508571c5.js.map