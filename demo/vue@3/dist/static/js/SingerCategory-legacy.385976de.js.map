{"version":3,"file":"static/js/SingerCategory-legacy.385976de.js","mappings":"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","sources":["webpack://kugou/./node_modules/core-js/modules/es.array.find.js","webpack://kugou/./node_modules/core-js/modules/es.iterator.find.js","webpack://kugou/./src/views/singer/SingerCategory.vue","webpack://kugou/./src/requests/singerCategory.js","webpack://kugou/./src/views/singer/SingerCategory.vue?5b6a","webpack://kugou/./src/mixins/loading.js"],"sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\n// eslint-disable-next-line es/no-array-prototype-find -- testing\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\n\nvar findWithoutClosingOnEarlyError = iteratorHelperWithoutClosingOnEarlyError('find', TypeError);\n\n// `Iterator.prototype.find` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.find\n$({ target: 'Iterator', proto: true, real: true, forced: findWithoutClosingOnEarlyError }, {\n  find: function find(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (findWithoutClosingOnEarlyError) return call(findWithoutClosingOnEarlyError, this, predicate);\n\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    return iterate(record, function (value, stop) {\n      if (predicate(value, counter++)) return stop(value);\n    }, { IS_RECORD: true, INTERRUPTED: true }).result;\n  }\n});\n","<template>\r\n  <section class=\"singer_category\">\r\n    <ul\r\n      class=\"singer_category__list main_border\"\r\n      v-for=\"(list,list_index) in singerCategories\"\r\n      :key=\"list_index\"\r\n    >\r\n      <li\r\n        class=\"singer_category__item main_border_bottom\"\r\n        v-for=\"(item,index) in list.data\"\r\n        :key=\"'1'+index\"\r\n      >\r\n        <router-link :to=\"item.path\" class=\"singer_category__link\">\r\n          <div class=\"singer_category__title\">{{item.classname}}</div>\r\n          <button class=\"singer_category_btn\">\r\n            <svg class=\"icon\" aria-hidden=\"true\">\r\n              <use xlink:href=\"#icon-arrow-right\"></use>\r\n            </svg>\r\n          </button>\r\n        </router-link>\r\n      </li>\r\n    </ul>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue';\r\n\r\nimport { fetchSingerCategory } from '../../requests/singerCategory'\r\nimport { mapState, mapMutations } from 'vuex'\r\nimport loading from '../../mixins/loading'\r\nexport default defineComponent({\r\n  name: 'SingerCategory',\r\n  mixins: [loading],\r\n\r\n  computed: {\r\n    ...mapState('singer', ['singerCategories'])\r\n  },\r\n\r\n  created() {\r\n    if (this.singerCategories.length === 0) {\r\n      this.setLoadingExcludeNav()\r\n      this.startLoading()\r\n      this.getSingerCategories()\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations(['replaceProperty']),\r\n    getSingerCategories() {\r\n      fetchSingerCategory().then(({ data }) => {\r\n        let singerCategories = data.list.reduce((re, obj) => {\r\n          obj.path = '/singer/list/' + obj.classid\r\n          let findCategories = re.find(\r\n            o => o.category === obj.classname.substring(0, 2)\r\n          )\r\n          if (findCategories) {\r\n            findCategories.data.push(obj)\r\n          } else {\r\n            re.push({\r\n              category: obj.classname.substring(0, 2),\r\n              data: [obj]\r\n            })\r\n          }\r\n          return re\r\n        }, [])\r\n        this.replaceProperty({\r\n          paths: 'singer.singerCategories',\r\n          data: singerCategories\r\n        })\r\n        this.stopLoading()\r\n      })\r\n    }\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import (reference) '~@/styles/constant';\r\n.singer_category__list {\r\n  width: 347px;\r\n  margin: 18px auto;\r\n\r\n  // border-bottom: none;\r\n\r\n  border-radius: 6px;\r\n  background-color: @white;\r\n}\r\n\r\n.singer_category__item {\r\n  height: 50px;\r\n}\r\n\r\n.singer_category__item:last-child {\r\n  /*如果用另一种思路，设置 .singer_category__list 的 border-bottom ，\r\n  在 iPhone6/7/8 就会失败，待测试*/\r\n  border-bottom: none;\r\n}\r\n\r\n.singer_category__link {\r\n  display: block;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  height: 100%;\r\n}\r\n\r\n.singer_category__title {\r\n  display: block;\r\n\r\n  padding-left: @padding_width;\r\n}\r\n\r\n.singer_category_btn {\r\n  font-size: 20px;\r\n  margin-right: 15px;\r\n  margin-left: auto;\r\n}\r\n</style>\r\n","import { getSingerCategory } from '@shared/api/singerCategory'\r\nimport http from './http'\r\n\r\nexport const fetchSingerCategory = ({ params = {} } = {}) => {\r\n  return http({\r\n    ...getSingerCategory,\r\n    params: { ...params }\r\n  })\r\n}\r\n","import { render } from \"./SingerCategory.vue?vue&type=template&id=07c2709b&scoped=true\"\nimport script from \"./SingerCategory.vue?vue&type=script&lang=js\"\nexport * from \"./SingerCategory.vue?vue&type=script&lang=js\"\n\nimport \"./SingerCategory.vue?vue&type=style&index=0&id=07c2709b&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-07c2709b\"]])\n\nexport default __exports__","import { mapMutations } from 'vuex'\r\nexport default {\r\n  updated() {\r\n    this.stopLoading()\r\n  },\r\n  methods: {\r\n    ...mapMutations(['replaceProperty']),\r\n    startLoading() {\r\n      this.replaceProperty({\r\n        paths: 'loading.isShow',\r\n        data: true\r\n      })\r\n    },\r\n    stopLoading() {\r\n      this.replaceProperty({\r\n        paths: 'loading.isShow',\r\n        data: false\r\n      })\r\n    },\r\n    setLoadingExcludeHeader() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_header'\r\n      })\r\n    },\r\n    setLoadingExcludeNav() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_nav'\r\n      })\r\n    },\r\n    setLoadingExcludeModuleTitle() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_module_title'\r\n      })\r\n    },\r\n    setLoadingExcludeSearchForm() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_search_form'\r\n      })\r\n    }\r\n  }\r\n}\r\n"],"names":["$","$find","addToUnscopables","FIND","SKIPS_HOLES","Array","target","proto","forced","find","callbackfn","this","arguments","length","undefined","call","iterate","aCallable","anObject","getIteratorDirect","iteratorClose","iteratorHelperWithoutClosingOnEarlyError","findWithoutClosingOnEarlyError","TypeError","real","predicate","error","record","counter","value","stop","IS_RECORD","INTERRUPTED","result","class","_createElementVNode","_createElementBlock","_hoisted_1","_Fragment","_renderList","_ctx","singerCategories","list","list_index","key","data","item","index","_createVNode","_component_router_link","to","path","_hoisted_2","_toDisplayString","classname","_hoisted_3","fetchSingerCategory","_ref","_ref$params","params","http","_objectSpread","getSingerCategory","defineComponent","name","mixins","loading","computed","mapState","created","setLoadingExcludeNav","startLoading","getSingerCategories","methods","mapMutations","_this","then","reduce","re","obj","classid","findCategories","o","category","substring","push","replaceProperty","paths","stopLoading","__exports__","render","updated","setLoadingExcludeHeader","setLoadingExcludeModuleTitle","setLoadingExcludeSearchForm"],"sourceRoot":""}