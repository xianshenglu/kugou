"use strict";(self["webpackChunkkugou"]=self["webpackChunkkugou"]||[]).push([[119],{1710:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var i=a(6913);(0,i.Qi)("data-v-73d8b9e0");const s={class:"singer_list"},n={class:"singer_list__list",ref:"lazyLoadRoot"},r=["src","data-src"],l={class:"singer_list__name"};function o(e,t,a,o,d,g){const c=(0,i.g2)("PubModuleTitle"),u=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("section",s,[(0,i.bF)(c,{title:e.singerList.info.name},null,8,["title"]),(0,i.Lk)("ul",n,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.singerList.data,(t,a)=>((0,i.uX)(),(0,i.CE)("li",{class:"singer_list__item main_border_bottom",key:a},[(0,i.bF)(u,{to:t.path,class:"singer_list__link"},{default:(0,i.k6)(()=>[(0,i.Lk)("img",{class:"singer_list__img lazy_image",ref:t=>e.saveImageRef(a,t),src:e.logo__grey,"data-src":t.imgUrl},null,8,r),(0,i.Lk)("div",l,(0,i.v_)(t.name),1)],void 0,!0),_:2},1032,["to"])]))),128))],512)])}(0,i.jt)();a(8111),a(7588),a(1701);var d=a(7524),g=a(5984),c=a(8711);const u=({singerListId:e,params:t={}}={})=>{let{url:a,...i}=c.v;return a+="/"+e,(0,g.A)({...i,url:a,params:{json:!0,...t}})};var p=a(5382),m=a(1981),h=a(6278),_=a(9525),L=(0,i.pM)({name:"SingerList",mixins:[p.A],components:{PubModuleTitle:d.A},computed:{...(0,h.aH)("images",["logo__grey"]),...(0,h.aH)("singer",["singerList"]),...(0,h.aH)("loading",{isLoadingShow:"isShow"})},data(){return{lazyImageElements:[]}},watch:{"singerList.data":{handler:function(e){0!==e.length&&(this.lazyImageElements=e.map(()=>null),(0,i.dY)(()=>(0,m.jc)(this.lazyImageElements,{root:this.$refs.lazyLoadRoot})))},immediate:!0,deep:!0}},created(){let e=this.$route.path.split("/").pop();Number(e)!==this.singerList.info.id&&(this.setLoadingExcludeHeader(),this.startLoading(),this.getSingerList(e))},methods:{...(0,h.PY)(["replaceProperty"]),saveImageRef(e,t){this.lazyImageElements[e]=t},getSingerList(e){u({params:{singerListId:e}}).then(({data:e})=>{let t={info:{id:e.classid,name:e.classname,count:e.singers.total},data:e.singers.list.info};e.singers.list.info.forEach(e=>{e.id=e.singerid,e.name=e.singername,e.imgUrl=(0,_.A)(e.imgurl),e.path="/singer/info/"+e.id}),this.replaceProperty({paths:"singer.singerList",data:t}),this.stopLoading()})}}}),f=a(6262);const v=(0,f.A)(L,[["render",o],["__scopeId","data-v-73d8b9e0"]]);var y=v},5382:function(e,t,a){var i=a(6278);t.A={updated(){this.stopLoading()},methods:{...(0,i.PY)(["replaceProperty"]),startLoading(){this.replaceProperty({paths:"loading.isShow",data:!0})},stopLoading(){this.replaceProperty({paths:"loading.isShow",data:!1})},setLoadingExcludeHeader(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_header"})},setLoadingExcludeNav(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_nav"})},setLoadingExcludeModuleTitle(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_module_title"})},setLoadingExcludeSearchForm(){this.replaceProperty({paths:"loading.sizeClassName",data:"loading--exclude_search_form"})}}}},7524:function(e,t,a){a.d(t,{A:function(){return o}});var i=a(6913);function s(e,t,a,s,n,r){return(0,i.uX)(),(0,i.CE)("h4",{class:"module_title main_box_shadow",onClick:t[0]||(t[0]=t=>e.$emit("click",arguments[0]))},(0,i.v_)(e.title),1)}var n=(0,i.pM)({emits:["click"],name:"PubModuleTitle",props:{title:{type:String,default(){return""}}}}),r=a(6262);const l=(0,r.A)(n,[["render",s],["__scopeId","data-v-ac7e64d2"]]);var o=l}}]);
//# sourceMappingURL=SingerList.7e954c3a.js.map