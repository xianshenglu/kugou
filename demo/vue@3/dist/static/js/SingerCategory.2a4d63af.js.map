{"version":3,"file":"static/js/SingerCategory.2a4d63af.js","mappings":"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","sources":["webpack://kugou/./node_modules/core-js/modules/es.iterator.find.js","webpack://kugou/./src/views/singer/SingerCategory.vue","webpack://kugou/./src/requests/singerCategory.js","webpack://kugou/./src/views/singer/SingerCategory.vue?5b6a","webpack://kugou/./src/mixins/loading.js"],"sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\n\nvar findWithoutClosingOnEarlyError = iteratorHelperWithoutClosingOnEarlyError('find', TypeError);\n\n// `Iterator.prototype.find` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.find\n$({ target: 'Iterator', proto: true, real: true, forced: findWithoutClosingOnEarlyError }, {\n  find: function find(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (findWithoutClosingOnEarlyError) return call(findWithoutClosingOnEarlyError, this, predicate);\n\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    return iterate(record, function (value, stop) {\n      if (predicate(value, counter++)) return stop(value);\n    }, { IS_RECORD: true, INTERRUPTED: true }).result;\n  }\n});\n","<template>\r\n  <section class=\"singer_category\">\r\n    <ul\r\n      class=\"singer_category__list main_border\"\r\n      v-for=\"(list,list_index) in singerCategories\"\r\n      :key=\"list_index\"\r\n    >\r\n      <li\r\n        class=\"singer_category__item main_border_bottom\"\r\n        v-for=\"(item,index) in list.data\"\r\n        :key=\"'1'+index\"\r\n      >\r\n        <router-link :to=\"item.path\" class=\"singer_category__link\">\r\n          <div class=\"singer_category__title\">{{item.classname}}</div>\r\n          <button class=\"singer_category_btn\">\r\n            <svg class=\"icon\" aria-hidden=\"true\">\r\n              <use xlink:href=\"#icon-arrow-right\"></use>\r\n            </svg>\r\n          </button>\r\n        </router-link>\r\n      </li>\r\n    </ul>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue';\r\n\r\nimport { fetchSingerCategory } from '../../requests/singerCategory'\r\nimport { mapState, mapMutations } from 'vuex'\r\nimport loading from '../../mixins/loading'\r\nexport default defineComponent({\r\n  name: 'SingerCategory',\r\n  mixins: [loading],\r\n\r\n  computed: {\r\n    ...mapState('singer', ['singerCategories'])\r\n  },\r\n\r\n  created() {\r\n    if (this.singerCategories.length === 0) {\r\n      this.setLoadingExcludeNav()\r\n      this.startLoading()\r\n      this.getSingerCategories()\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations(['replaceProperty']),\r\n    getSingerCategories() {\r\n      fetchSingerCategory().then(({ data }) => {\r\n        let singerCategories = data.list.reduce((re, obj) => {\r\n          obj.path = '/singer/list/' + obj.classid\r\n          let findCategories = re.find(\r\n            o => o.category === obj.classname.substring(0, 2)\r\n          )\r\n          if (findCategories) {\r\n            findCategories.data.push(obj)\r\n          } else {\r\n            re.push({\r\n              category: obj.classname.substring(0, 2),\r\n              data: [obj]\r\n            })\r\n          }\r\n          return re\r\n        }, [])\r\n        this.replaceProperty({\r\n          paths: 'singer.singerCategories',\r\n          data: singerCategories\r\n        })\r\n        this.stopLoading()\r\n      })\r\n    }\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import (reference) '~@/styles/constant';\r\n.singer_category__list {\r\n  width: 347px;\r\n  margin: 18px auto;\r\n\r\n  // border-bottom: none;\r\n\r\n  border-radius: 6px;\r\n  background-color: @white;\r\n}\r\n\r\n.singer_category__item {\r\n  height: 50px;\r\n}\r\n\r\n.singer_category__item:last-child {\r\n  /*如果用另一种思路，设置 .singer_category__list 的 border-bottom ，\r\n  在 iPhone6/7/8 就会失败，待测试*/\r\n  border-bottom: none;\r\n}\r\n\r\n.singer_category__link {\r\n  display: block;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  height: 100%;\r\n}\r\n\r\n.singer_category__title {\r\n  display: block;\r\n\r\n  padding-left: @padding_width;\r\n}\r\n\r\n.singer_category_btn {\r\n  font-size: 20px;\r\n  margin-right: 15px;\r\n  margin-left: auto;\r\n}\r\n</style>\r\n","import { getSingerCategory } from '@shared/api/singerCategory'\r\nimport http from './http'\r\n\r\nexport const fetchSingerCategory = ({ params = {} } = {}) => {\r\n  return http({\r\n    ...getSingerCategory,\r\n    params: { ...params }\r\n  })\r\n}\r\n","import { render } from \"./SingerCategory.vue?vue&type=template&id=07c2709b&scoped=true\"\nimport script from \"./SingerCategory.vue?vue&type=script&lang=js\"\nexport * from \"./SingerCategory.vue?vue&type=script&lang=js\"\n\nimport \"./SingerCategory.vue?vue&type=style&index=0&id=07c2709b&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-07c2709b\"]])\n\nexport default __exports__","import { mapMutations } from 'vuex'\r\nexport default {\r\n  updated() {\r\n    this.stopLoading()\r\n  },\r\n  methods: {\r\n    ...mapMutations(['replaceProperty']),\r\n    startLoading() {\r\n      this.replaceProperty({\r\n        paths: 'loading.isShow',\r\n        data: true\r\n      })\r\n    },\r\n    stopLoading() {\r\n      this.replaceProperty({\r\n        paths: 'loading.isShow',\r\n        data: false\r\n      })\r\n    },\r\n    setLoadingExcludeHeader() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_header'\r\n      })\r\n    },\r\n    setLoadingExcludeNav() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_nav'\r\n      })\r\n    },\r\n    setLoadingExcludeModuleTitle() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_module_title'\r\n      })\r\n    },\r\n    setLoadingExcludeSearchForm() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_search_form'\r\n      })\r\n    }\r\n  }\r\n}\r\n"],"names":["$","call","iterate","aCallable","anObject","getIteratorDirect","iteratorClose","iteratorHelperWithoutClosingOnEarlyError","findWithoutClosingOnEarlyError","TypeError","target","proto","real","forced","find","predicate","this","error","record","counter","value","stop","IS_RECORD","INTERRUPTED","result","class","_createElementVNode","_createElementBlock","_hoisted_1","_Fragment","_renderList","_ctx","singerCategories","list","list_index","key","data","item","index","_createVNode","_component_router_link","to","path","_hoisted_2","_toDisplayString","classname","_hoisted_3","fetchSingerCategory","params","http","getSingerCategory","defineComponent","name","mixins","loading","computed","mapState","created","length","setLoadingExcludeNav","startLoading","getSingerCategories","methods","mapMutations","then","reduce","re","obj","classid","findCategories","o","category","substring","push","replaceProperty","paths","stopLoading","__exports__","render","updated","setLoadingExcludeHeader","setLoadingExcludeModuleTitle","setLoadingExcludeSearchForm"],"sourceRoot":""}