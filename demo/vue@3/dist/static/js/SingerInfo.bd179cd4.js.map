{"version":3,"file":"static/js/SingerInfo.bd179cd4.js","mappings":"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","sources":["webpack://kugou/./src/components/PubModuleDes.vue","webpack://kugou/./src/components/PubModuleDes.vue?b8d1","webpack://kugou/./src/components/AppMusicList.vue","webpack://kugou/./src/components/AppMusicList.vue?ea2a","webpack://kugou/./src/components/PubModuleHead.vue","webpack://kugou/./src/components/PubModuleHead.vue?25b5","webpack://kugou/./src/mixins/loading.js","webpack://kugou/./src/views/singer/SingerInfo.vue","webpack://kugou/./src/requests/singerInfo.js","webpack://kugou/./src/views/singer/SingerInfo.vue?7c41"],"sourcesContent":["<template>\r\n  <div\r\n    :class=\"showMore?'module_info__intro module_info__intro--more main_box_shadow':'module_info__intro main_box_shadow'\"\r\n  >\r\n    <p class=\"module_info__text\">{{description}}</p>\r\n    <button class=\"module_info__button\" v-show=\"showMore\" @click=\"showMore=!showMore\">\r\n      <svg class=\"icon\" aria-hidden=\"true\">\r\n        <use xlink:href=\"#icon-circle-arrow-up\"></use>\r\n      </svg>\r\n    </button>\r\n    <button class=\"module_info__button\" v-show=\"!showMore\" @click=\"showMore=!showMore\">\r\n      <svg class=\"icon\" aria-hidden=\"true\">\r\n        <use xlink:href=\"#icon-circle-arrow-down\"></use>\r\n      </svg>\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue';\r\n\r\nexport default defineComponent({\r\n  name: 'PubModuleDes',\r\n\r\n  props: {\r\n    description: {\r\n      type: String,\r\n      default() {\r\n        return ''\r\n      }\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      showMore: false\r\n    }\r\n  },\r\n\r\n  methods: {},\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import (reference) '~@/styles/constant';\r\n.module_info__intro {\r\n  display: flex;\r\n  overflow: hidden;\r\n  align-items: flex-start;\r\n\r\n  box-sizing: border-box;\r\n  height: 41px;\r\n  padding: 5px 0 5px 19px;\r\n\r\n  line-height: 1.8;\r\n}\r\n\r\n.module_info__intro--more {\r\n  height: auto;\r\n}\r\n.module_info__text {\r\n  margin-right: auto;\r\n}\r\n.module_info__button {\r\n  font-size: 25px;\r\n  flex: 0 0 auto;\r\n  width: 24px;\r\n  height: 24px;\r\n  margin: 3.5px 10px 0 8px;\r\n  box-sizing: border-box;\r\n}\r\n</style>\r\n","import { render } from \"./PubModuleDes.vue?vue&type=template&id=462858a5&scoped=true\"\nimport script from \"./PubModuleDes.vue?vue&type=script&lang=js\"\nexport * from \"./PubModuleDes.vue?vue&type=script&lang=js\"\n\nimport \"./PubModuleDes.vue?vue&type=style&index=0&id=462858a5&scoped=true&lang=less\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-462858a5\"]])\n\nexport default __exports__","<template>\r\n  <ul class=\"music_list\">\r\n    <li class=\"music_list__item main_border_bottom\" v-for=\"(item,index) in musicList\" :key=\"index\">\r\n      <div class=\"music_list__info\" @click=\"wantPlay(item)\">\r\n        <slot :data=\"index\" name=\"index\" class=\"music_list__index\" @click=\"wantPlay(item)\"></slot>\r\n        <div class=\"music_list__name\">{{item.filename}}</div>\r\n      </div>\r\n      <button class=\"music_list__download\">\r\n        <svg class=\"icon\" aria-hidden=\"true\">\r\n          <use xlink:href=\"#icon-download\"></use>\r\n        </svg>\r\n      </button>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue';\r\n\r\nexport default defineComponent({\r\n  name: 'AppMusicList',\r\n\r\n  props: {\r\n    musicList: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    wantPlay(music) {\r\n      this.$store.commit('player/wantPlay', {\r\n        music,\r\n        musicList: this.$props.musicList\r\n      })\r\n    }\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import (reference) '~@/styles/constant';\r\n.music_list {\r\n  padding-left: 19px;\r\n}\r\n\r\n.music_list__item {\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: auto;\r\n  min-height: 72px;\r\n  padding: 10px 0;\r\n}\r\n\r\n.music_list__info {\r\n  display: flex;\r\n  width: 100%;\r\n  align-items: center;\r\n}\r\n.music_list__index {\r\n  width: 48px;\r\n  flex: 0 0 auto;\r\n}\r\n.music_list__name {\r\n  width: calc(100% - 48px);\r\n  flex: 1 0 auto;\r\n}\r\n\r\n.music_list__download {\r\n  box-sizing: content-box;\r\n  width: 23px;\r\n  height: 100%;\r\n  padding: 0 @padding_width;\r\n}\r\n</style>\r\n","import { render } from \"./AppMusicList.vue?vue&type=template&id=413d897e&scoped=true\"\nimport script from \"./AppMusicList.vue?vue&type=script&lang=js\"\nexport * from \"./AppMusicList.vue?vue&type=script&lang=js\"\n\nimport \"./AppMusicList.vue?vue&type=style&index=0&id=413d897e&lang=less&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-413d897e\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <div class=\"module__head\" :style=\"'background-image:url('+moduleHeadInfo.imgUrl+')'\">\r\n      <h6 class=\"module__title\">{{moduleHeadInfo.name}}</h6>\r\n      <slot name=\"moduleUpdateTime\"></slot>\r\n    </div>\r\n    <slot name=\"moduleDes\"></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue';\r\n\r\nexport default defineComponent({\r\n  name: 'PubModuleHead',\r\n\r\n  props: {\r\n    moduleHeadInfo: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import (reference) '~@/styles/constant';\r\n.module__head {\r\n  display: flex;\r\n\r\n  height: 225px;\r\n\r\n  color: @white;\r\n  background-position: center center;\r\n  background-size: cover;\r\n}\r\n\r\n.module__title {\r\n  position: fixed;\r\n  top: @header_height;\r\n  left: 50%;\r\n  font-size: inherit;\r\n  width: 100%;\r\n  height: @module_title_height;\r\n\r\n  transform: translateX(-50%);\r\n  text-align: center;\r\n\r\n  background: linear-gradient(\r\n    to bottom,\r\n    rgba(0, 0, 0, 0.6) 5%,\r\n    rgba(107, 107, 107, 0.1) 90%,\r\n    rgba(255, 255, 255, 0)\r\n  );\r\n\r\n  line-height: @module_title_height;\r\n}\r\n</style>\r\n","import { render } from \"./PubModuleHead.vue?vue&type=template&id=168a44dd&scoped=true\"\nimport script from \"./PubModuleHead.vue?vue&type=script&lang=js\"\nexport * from \"./PubModuleHead.vue?vue&type=script&lang=js\"\n\nimport \"./PubModuleHead.vue?vue&type=style&index=0&id=168a44dd&lang=less&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-168a44dd\"]])\n\nexport default __exports__","import { mapMutations } from 'vuex'\r\nexport default {\r\n  updated() {\r\n    this.stopLoading()\r\n  },\r\n  methods: {\r\n    ...mapMutations(['replaceProperty']),\r\n    startLoading() {\r\n      this.replaceProperty({\r\n        paths: 'loading.isShow',\r\n        data: true\r\n      })\r\n    },\r\n    stopLoading() {\r\n      this.replaceProperty({\r\n        paths: 'loading.isShow',\r\n        data: false\r\n      })\r\n    },\r\n    setLoadingExcludeHeader() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_header'\r\n      })\r\n    },\r\n    setLoadingExcludeNav() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_nav'\r\n      })\r\n    },\r\n    setLoadingExcludeModuleTitle() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_module_title'\r\n      })\r\n    },\r\n    setLoadingExcludeSearchForm() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_search_form'\r\n      })\r\n    }\r\n  }\r\n}\r\n","<template>\r\n  <section class=\"singer_info\">\r\n    <PubModuleHead :module-head-info=\"getModuleHeadInfo\">\r\n      <template v-slot:moduleDes>\r\n        <PubModuleDes :description=\"getModuleHeadInfo.intro\" />\r\n      </template>\r\n    </PubModuleHead>\r\n    <AppMusicList :music-list=\"getMusicList\" />\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\n\r\nimport PubModuleHead from '@/components/PubModuleHead'\r\nimport PubModuleDes from '@/components/PubModuleDes'\r\nimport AppMusicList from '@/components/AppMusicList'\r\nimport { fetchSingerInfo } from '../../requests/singerInfo'\r\nimport loading from '../../mixins/loading'\r\nimport { mapState, mapMutations } from 'vuex'\r\nimport replaceSizeInUrl from '@/utils/replaceSizeInUrl'\r\nexport default defineComponent({\r\n  name: 'SingerInfo',\r\n  mixins: [loading],\r\n\r\n  components: {\r\n    PubModuleHead,\r\n    AppMusicList,\r\n    PubModuleDes\r\n  },\r\n\r\n  computed: {\r\n    ...mapState('singer', ['singerInfo']),\r\n    getModuleHeadInfo() {\r\n      return this.singerInfo.info\r\n    },\r\n    getMusicList() {\r\n      return this.singerInfo.data\r\n    }\r\n  },\r\n\r\n  created() {\r\n    let singerId = this.$route.path.split('/').pop()\r\n    this.setLoadingExcludeHeader()\r\n    this.startLoading()\r\n    this.getSingerInfo(singerId)\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations(['replaceProperty']),\r\n    getSingerInfo(singerId) {\r\n      fetchSingerInfo({ singerId }).then(({ data }) => {\r\n        let singerInfo = {\r\n          info: {\r\n            id: data.info.singerid,\r\n            name: data.info.singername,\r\n            count: data.info.songcount,\r\n            albumcount: data.info.albumcount,\r\n            imgUrl: replaceSizeInUrl(data.info.imgurl),\r\n            intro: data.info.intro\r\n          },\r\n          data: data.songs.list\r\n        }\r\n        data.songs.list.forEach(obj => {\r\n          obj.name = obj.filename\r\n          // obj.path='/singer/info/'+obj.id\r\n        })\r\n        this.replaceProperty({\r\n          paths: 'singer.singerInfo',\r\n          data: singerInfo\r\n        })\r\n        this.stopLoading()\r\n      })\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"less\"></style>\r\n","import http from './http'\r\nimport { getSingerInfo } from '@shared/api/singerInfo'\r\n\r\nexport const fetchSingerInfo = ({ singerId, params = {} } = {}) => {\r\n  let { url, ...props } = getSingerInfo\r\n  url += '/' + singerId + '&json=true'\r\n  return http({ ...props, url, params })\r\n}\r\n","import { render } from \"./SingerInfo.vue?vue&type=template&id=4287c828\"\nimport script from \"./SingerInfo.vue?vue&type=script&lang=js\"\nexport * from \"./SingerInfo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_2","_hoisted_4","_createElementBlock","_normalizeClass","_ctx","showMore","_hoisted_1","_toDisplayString","description","onClick","_cache","$event","defineComponent","name","props","type","String","default","data","methods","__exports__","render","_Fragment","_renderList","musicList","item","index","key","wantPlay","_renderSlot","$slots","_hoisted_3","filename","Array","music","this","$store","commit","$props","style","_normalizeStyle","moduleHeadInfo","imgUrl","undefined","Object","updated","stopLoading","mapMutations","startLoading","replaceProperty","paths","setLoadingExcludeHeader","setLoadingExcludeNav","setLoadingExcludeModuleTitle","setLoadingExcludeSearchForm","_createVNode","_component_PubModuleHead","getModuleHeadInfo","moduleDes","_withCtx","_component_PubModuleDes","intro","_component_AppMusicList","getMusicList","fetchSingerInfo","singerId","params","url","getSingerInfo","http","mixins","loading","components","PubModuleHead","AppMusicList","PubModuleDes","computed","mapState","singerInfo","info","created","$route","path","split","pop","then","id","singerid","singername","count","songcount","albumcount","replaceSizeInUrl","imgurl","songs","list","forEach","obj"],"sourceRoot":""}