import{b as x,r as d,d as A,m as S,j as r,n as f,o as m,N as _}from"./index-D-sAB4ON.js";import{u as X}from"./index-CVQAKQkH.js";function j(c){const{minOffset:a=window.innerWidth*.1,maxOffset:n=window.innerWidth*.4,interval:o=300,onSwipe:i}=c,t=x(s=>{const e=Date.now(),l=s.touches[0].clientX,g=s.touches[0].clientY,p=v=>{window.removeEventListener("touchend",p,!0);const h=v.changedTouches[0].clientX,E=v.changedTouches[0].clientY,u=Math.abs(h-l);if(Math.abs(E-g)>u)return;const T=h-l<0?"left":"right",w=Date.now()-e>o,L=w&&u>n,R=!w&&u>a;(L||R)&&i(T)};window.addEventListener("touchend",p,!0)});X("touchstart",t,{target:window})}function C(c,a){const[n,o]=d.useState({left:0,width:0}),i=x(()=>{const t=c();if(!t)return;const e={left:t.getBoundingClientRect().left-t.parentElement.getBoundingClientRect().left,width:t.offsetWidth};o(e)});return d.useLayoutEffect(()=>{i()},a),n}const N=100,M=d.memo(c=>{const a=A(),n=S(t=>t.activeIndex),o=d.useRef([]),i=C(()=>o.current[n],[n]);return j({onSwipe:t=>{const s=t==="left"?n+1:n-1,e=m[s];e!==void 0&&a(e.path)}}),r.jsxs("section",{className:f.AppNav,children:[r.jsx("nav",{className:f.AppNav__box,children:m.map((t,s)=>r.jsx(_,{to:t.path,ref:e=>{o.current[s]=e},className:({isActive:e,isPending:l})=>f.AppNav__link,"test-id":`nav-link${t.name}`,children:t.text},t.path))}),r.jsx("div",{className:f.AppNav__underline,style:{width:N+"px",transform:`translateX(${i.left}px) scaleX(${i.width/N})`}})]})});export{M as default};
