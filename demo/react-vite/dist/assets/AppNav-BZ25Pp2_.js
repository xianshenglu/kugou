import{u as m,a as d,b as T,c as L,j as p,n as h,N as S}from"./index-Al7Ijt8p.js";import{u as b}from"./index-DKTqd5xG.js";function R(c){const{minOffset:i=window.innerWidth*.1,maxOffset:n=window.innerWidth*.4,interval:o=300,onSwipe:a}=c,t=m(s=>{const e=Date.now(),l=s.touches[0].clientX,w=s.touches[0].clientY,u=v=>{window.removeEventListener("touchend",u,!0);const _=v.changedTouches[0].clientX,x=v.changedTouches[0].clientY,f=Math.abs(_-l);if(Math.abs(x-w)>f)return;const A=_-l<0?"left":"right",N=Date.now()-e>o,g=N&&f>n,E=!N&&f>i;(g||E)&&a(A)};window.addEventListener("touchend",u,!0)});b("touchstart",t,{target:window})}const k="AppNav-module__AppNav__4sxvi",j="AppNav-module__AppNav__box__vbx7t",C="AppNav-module__AppNav__link__4UxHQ",O="AppNav-module__AppNav__underline__-Si1o",r={AppNav:k,AppNav__box:j,AppNav__link:C,AppNav__underline:O};function P(c,i){const[n,o]=d.useState({left:0,width:0}),a=m(()=>{const t=c();if(!t)return;const e={left:t.getBoundingClientRect().left-t.parentElement.getBoundingClientRect().left,width:t.offsetWidth};o(e)});return d.useLayoutEffect(()=>{a()},i),n}const B=d.memo(c=>{const i=T(),n=L(t=>t.activeIndex),o=d.useRef([]),a=P(()=>o.current[n],[n]);return R({onSwipe:t=>{const s=t==="left"?n+1:n-1,e=h[s];e!==void 0&&i(e.path)}}),p.jsxs("section",{className:r.AppNav,children:[p.jsx("nav",{className:r.AppNav__box,children:h.map((t,s)=>p.jsx(S,{to:t.path,ref:e=>{o.current[s]=e},className:({isActive:e,isPending:l})=>r.AppNav__link,"test-id":`nav-link${t.name}`,children:t.text},t.path))}),p.jsx("div",{className:r.AppNav__underline,style:{width:a.width+"px",transform:`translateX(${a.left}px)`}})]})});export{B as default};
