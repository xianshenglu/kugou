import{a,j as s,f as _,N as g,h as c,g as L,i as u,k as d,Q as S}from"./index-BpMksZ7a.js";import{l as y}from"./logo__grey-B7LfA2R-.js";import{$ as l}from"./utils-B_dGR-9Z.js";import{a as x}from"./mapper-BGcNM0N-.js";import"./mapper-npPNkTNf.js";const p="SingerList-module__SingerList__list__jCdK0",f="SingerList-module__SingerList__item__E-7ef",j="SingerList-module__SingerList__link__qKmyy",h="SingerList-module__SingerList__img__t-0r-",n={SingerList__list:p,SingerList__item:f,SingerList__link:j,SingerList__img:h},N=({singersData:i})=>{const e=a.useRef([]),t=()=>{e.current=Array.from(document.getElementsByClassName("lazyImage")),l(e.current)};a.useEffect(()=>{t()});const{singersData:{data:o,info:{name:m}}}={singersData:i};return s.jsxs(a.Fragment,{children:[s.jsx("h4",{className:"module_title main_box_shadow",children:m}),s.jsx("ul",{className:n.SingerList__list,onScroll:()=>l(e.current),"test-id":"page-singer-list",children:o.map(r=>s.jsx("li",{className:_(n.SingerList__item,"main_border_bottom"),"test-class":"list",children:s.jsxs(g,{to:r.path,className:n.SingerList__link,"test-class":"link",children:[s.jsx("img",{className:_(n.SingerList__img,"lazyImage"),src:y,"data-src":r.imgUrl,alt:""}),s.jsx("div",{children:r.name})]})},r.id))})]})};async function k(i){const e=c.singerList.replace(/singerListId?/i,i),t=await L.get(e);return x(t.data)}const I=i=>u({queryKey:["singerList",i],queryFn:()=>k(i)}),D=()=>{const{id:i}=d(),e=I(i);return s.jsx(S,{query:e,children:t=>s.jsx(N,{singersData:t})})};export{D as default};
