import{r as a}from"./index-C_buiCt_.js";var h=function(e){return typeof e=="function"};function o(e,n){if(e===n)return!0;for(var r=0;r<e.length;r++)if(!Object.is(e[r],n[r]))return!1;return!0}function d(e){var n=a.useRef(e);return n.current=e,n}var w=function(e){var n=d(e);a.useEffect(function(){return function(){n.current()}},[])},y=!!(typeof window<"u"&&window.document&&window.document.createElement);function E(e,n){if(y){if(!e)return n;var r;return h(e)?r=e():"current"in e?r=e.current:r=e,r}}var L=function(e){var n=function(r,c,i){var s=a.useRef(!1),u=a.useRef([]),v=a.useRef([]),f=a.useRef(void 0);e(function(){var t,m=Array.isArray(i)?i:[i],l=m.map(function(R){return E(R)});if(!s.current){s.current=!0,u.current=l,v.current=c,f.current=r();return}(l.length!==u.current.length||!o(u.current,l)||!o(v.current,c))&&((t=f.current)===null||t===void 0||t.call(f),u.current=l,v.current=c,f.current=r())}),w(function(){var t;(t=f.current)===null||t===void 0||t.call(f),s.current=!1})};return n},g=L(a.useEffect);function T(e,n,r){r===void 0&&(r={});var c=r.enable,i=c===void 0?!0:c,s=d(n);g(function(){if(i){var u=E(r.target,window);if(u?.addEventListener){var v=function(t){return s.current(t)},f=Array.isArray(e)?e:[e];return f.forEach(function(t){u.addEventListener(t,v,{capture:r.capture,once:r.once,passive:r.passive})}),function(){f.forEach(function(t){u.removeEventListener(t,v,{capture:r.capture})})}}}},[e,r.capture,r.once,r.passive,i],r.target)}export{T as u};
