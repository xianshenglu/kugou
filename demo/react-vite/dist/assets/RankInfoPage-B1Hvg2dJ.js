import{j as e,a as m,A as f,f as d,g as I,h as k,i as R,k as p,Q as l}from"./index-D2l0-Zx8.js";import{I as q}from"./InfoHeader-D5wrdLNQ.js";import{f as x}from"./utils-B_dGR-9Z.js";import{a as S}from"./mapper-Dbp8-Z5E.js";import"./mapper-npPNkTNf.js";const y="RankInfo-module__RankInfo__updatedTime__3vWaG",g="RankInfo-module__RankInfo__musicSequence__PpI-h",t={RankInfo__updatedTime:y,RankInfo__musicSequence:g,"RankInfo__musicSequence--1":"RankInfo-module__RankInfo__musicSequence--1__U7dnN","RankInfo__musicSequence--2":"RankInfo-module__RankInfo__musicSequence--2__Zf5Dx","RankInfo__musicSequence--3":"RankInfo-module__RankInfo__musicSequence--3__nie-o"},j=({songsData:n,listInfo:a})=>{const s=o=>()=>e.jsx("time",{className:t.RankInfo__updatedTime,children:"Last updated: "+o}),r=o=>{const u=o+1;return e.jsx("div",{className:d(t.RankInfo__musicSequence,t["RankInfo__musicSequence--"+u]),children:u})},{rankname:c,imgUrl:_}=a,i={name:c,imgurl:_,renderUpdatedTime:s(x(n.timestamp*1e3))};return e.jsxs(m.Fragment,{children:[e.jsx(q,{...i}),e.jsx(f,{data:n.list,renderMusicSequence:r,"test-id":"page-rank-info"})]})};async function h(n){const a=await I.get(k.rankInfo+n);return S(a.data)}const T=n=>R({queryKey:["rankInfo",n],queryFn:()=>h(n)}),A=()=>{const{id:n}=p(),a=T(n);return e.jsx(l,{query:a,children:s=>e.jsx(j,{songsData:s.songs,listInfo:s.info})})};export{A as default};
