import{r,j as t,k as c,A as i,F as p,d,e as m,m as u,c as f,n as I}from"./index-CaPGCRQz.js";import{I as k}from"./InfoHeader-DdCCNSlw.js";class l extends r.Component{renderUpdatedTime(e){return()=>t.jsx("time",{className:"RankInfo__updatedTime",children:"上次更新时间: "+e})}renderMusicSequence(e){const s=e+1;return t.jsx("div",{className:"RankInfo__musicSequence RankInfo__musicSequence--"+s,children:s})}render(){const{songsData:e,listInfo:{rankname:s,imgurl:a}}=this.props,o={name:s,imgurl:a,renderUpdatedTime:this.renderUpdatedTime(c(e.timestamp*1e3))};return t.jsxs(r.Fragment,{children:[t.jsx(k,{...o}),t.jsx(i,{data:e.list,renderMusicSequence:this.renderMusicSequence})]})}}const x=n=>({type:p,id:n}),R=n=>function(e,s){s().rankInfo.id!==n&&(e(x(n)),d.get(m.rankInfo+n).then(a=>{e(h(a,n))}))},h=(n,e)=>({type:u,response:n,id:e});class _ extends r.Component{componentDidMount(){const{dispatch:e,params:{id:s}}=this.props;e(R(s))}render(){return t.jsx(l,{...this.props})}}const j=({rankInfo:{songsData:n,listInfo:e}})=>({songsData:n,listInfo:e}),C=null;function N(n){const e=I();return t.jsx(_,{...n,params:e})}const E=f(j,C)(N);export{E as default};
