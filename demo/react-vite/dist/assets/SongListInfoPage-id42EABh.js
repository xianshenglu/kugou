import{j as o,d as a,A as c,i as g,h as p,k as l,m as u,L as d}from"./index-Crlz-giV.js";import{I as m}from"./InfoHeader-DICoGM_k.js";import{I}from"./InfoDescription-BuB9ZANs.js";import{a as x}from"./mapper-DNMHWoT1.js";import"./mapper-npPNkTNf.js";const L=({songsData:n,listInfo:s})=>{const{songsData:{list:t},listInfo:{specialname:r,imgUrl:i,intro:e}}={songsData:n,listInfo:s},f={name:r,imgurl:i};return o.jsxs(a.Fragment,{children:[o.jsx(m,{...f}),o.jsx(I,{description:e}),o.jsx(c,{data:t,"test-id":"page-song-list-info"})]})};async function j(n){const s=g.songListInfo.replace(/songListInfoId/i,n),t=await p.get(s);return x(t.data)}const y=l.injectEndpoints({endpoints:n=>({getSongListInfo:n.query({queryFn:async s=>{try{return{data:await j(s)}}catch(t){return{error:{status:"FETCH_ERROR",error:String(t)}}}}})})}),{useGetSongListInfoQuery:E}=y,D=()=>{const{id:n}=u(),{data:s,isLoading:t,error:r}=E(n),i=a.useMemo(()=>({list:s?.songs.list.info}),[s]);return t?o.jsx(d,{}):r?o.jsx("div",{children:"Error loading playlist info"}):s?o.jsx(L,{songsData:i,listInfo:s.info.list}):null};export{D as default};
