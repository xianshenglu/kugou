!function(){function e(r){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(r)}function r(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,t)}return a}function a(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?r(Object(n),!0).forEach(function(r){t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t(r,a,t){return(a=function(r){var a=function(r,a){if("object"!=e(r)||!r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,a||"default");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(r)}(r,"string");return"symbol"==e(a)?a:a+""}(a))in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t,r}function n(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var t,n,o,l,c=[],i=!0,u=!1;try{if(o=(a=a.call(e)).next,0===r){if(Object(a)!==a)return;i=!1}else for(;!(i=(t=o.call(a)).done)&&(c.push(t.value),c.length!==r);i=!0);}catch(e){u=!0,n=e}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(u)throw n}}return c}}(e,r)||function(e,r){if(e){if("string"==typeof e)return o(e,r);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var a=0,t=Array(r);a<r;a++)t[a]=e[a];return t}System.register(["./index-legacy-C5m1bI75.js","./useNextPrevSong-legacy-WVing1Ko.js","./index-legacy-8ilTsatj.js"],function(e,r){"use strict";var o,l,c,i,u,s,_,v,d,y,f,g,m;return{setters:[function(e){o=e.f,l=e.d,c=e.c,i=e.u,u=e.j,s=e.g,_=e.e,v=e.a},function(e){d=e.P,y=e.a,f=e.N,g=e.u},function(e){m=e.u}],execute:function(){var r=document.createElement("style");r.textContent=".PlayerMax-module__PlayerMax__nFr9t{position:relative}.PlayerMax-module__PlayerMax__mask__O5dge{position:absolute;left:0;top:0;filter:blur(calc(var(--vw, 1vw) * 4));width:100%;height:100%;display:block;background-repeat:no-repeat,no-repeat;background-size:auto 100%,auto 100%;background-position:center,center;z-index:-1}.PlayerMax-module__PlayerMax__container__78jAB{display:flex;flex-flow:column;align-items:center;height:100%;background-color:rgba(0,0,0,.6);width:100%;box-sizing:border-box;overflow:hidden}.PlayerMax-module__PlayerMax__songName__LaOPN{height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 54 / 609);line-height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 54 / 609);width:calc(100% - calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 120 / 609));box-sizing:border-box;margin:0 calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 120 / 609);overflow-x:auto;overflow-y:hidden;white-space:nowrap;color:#fff;text-align:center;font-size:inherit}.PlayerMax-module__PlayerMax__singerImg__zLqtL{margin-top:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 26 / 609);height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 193 / 609);width:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 193 / 609);flex:0 0 auto;border-radius:50%;animation:PlayerMax-module__rotate__Vs2fB 20s linear infinite reverse;animation-play-state:paused}.PlayerMax-module__PlayerMax__singerImg--active__JzhE5{animation-play-state:running}.PlayerMax-module__PlayerMax__progress__mqqzK{height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 48 / 609);width:100%;box-sizing:border-box}.PlayerMax-module__PlayerMax__buttonContainer__CH7mY{height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 58 / 609);display:flex;align-items:center;justify-content:center}.PlayerMax-module__PlayerMax__prevBtn__lEN41,.PlayerMax-module__PlayerMax__nextBtn__JsiF1,.PlayerMax-module__PlayerMax__playBtn__q-uA3{border-radius:50%;border:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 2 / 609) solid #fff;margin:0 calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 16 / 609)}.PlayerMax-module__PlayerMax__prevBtn__lEN41,.PlayerMax-module__PlayerMax__nextBtn__JsiF1{width:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 42 / 609);height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 42 / 609);font-size:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 16 / 609)}.PlayerMax-module__PlayerMax__prevBtn__lEN41 .PlayerMax-module__icon__e19QT{transform:translate(0)}.PlayerMax-module__PlayerMax__nextBtn__JsiF1 .PlayerMax-module__icon__e19QT{transform:translate(1px)}.PlayerMax-module__PlayerMax__playBtn__q-uA3{width:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 58 / 609);height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 58 / 609);font-size:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 20 / 609)}.PlayerMax-module__PlayerMax__download__6-SnC{margin-top:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 19 / 609) auto 0;height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 45 / 609);width:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 211 / 609)}.PlayerLyric-module__PlayerLyric__FPEtF{color:#ccc;overflow:scroll;font-size:calc(var(--vw, 1vw) * 4);margin-top:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 16 / 609);height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 68 / 609);line-height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 34 / 609);width:102%;box-sizing:border-box;padding:0 calc(var(--vw, 1vw) * 16)}.PlayerLyric-module__PlayerLyric__FPEtF{text-align:center}.PlayerLyric-module__PlayerLyric_text__TGvUV{line-height:inherit}.PlayerLyric-module__PlayerLyric_text--active__KL5iT{color:#d1c90e}.PlayerProgress-module__PlayerProgress__zfweH{font-size:calc(var(--vw, 1vw) * 3.2);padding:calc(var(--vw, 1vw) * 4.26667) calc(var(--vw, 1vw) * 3.46667);display:flex;justify-content:space-between;align-items:center;color:#e5e5e5;height:calc((var(--vh) * 100 - calc(var(--vw, 1vw) * 100) * 58 / 375) * 48 / 609);width:100%;box-sizing:border-box}.PlayerProgress-module__PlayerProgress__songCurTime__A7-HE,.PlayerProgress-module__PlayerProgress__songDuration__Gvntj{flex:0 0 auto}.PlayerProgress-module__PlayerProgress__progressBar__cjUc4{flex:1 0 auto;height:calc(var(--vw, 1vw) * 1.06667);margin:0 calc(var(--vw, 1vw) * 2.66667);background-color:#232228;position:relative}.PlayerProgress-module__PlayerProgress__progressBarPointer__d5hpm{position:absolute;left:0;top:50%;transform:translate(-50%,-50%);background:#2ca2f9;height:calc(var(--vw, 1vw) * 3.46667);width:calc(var(--vw, 1vw) * 3.46667);border-radius:50%}\n/*$vite$:1*/",document.head.appendChild(r);var P="PlayerMax-module__PlayerMax__mask__O5dge",h="PlayerMax-module__PlayerMax__container__78jAB",x="PlayerMax-module__PlayerMax__songName__LaOPN",w="PlayerMax-module__PlayerMax__singerImg__zLqtL",p="PlayerMax-module__PlayerMax__singerImg--active__JzhE5",b="PlayerMax-module__PlayerMax__buttonContainer__CH7mY",M="PlayerMax-module__PlayerMax__prevBtn__lEN41",j="PlayerMax-module__PlayerMax__nextBtn__JsiF1",S="PlayerMax-module__PlayerMax__playBtn__q-uA3",N="PlayerMax-module__PlayerMax__download__6-SnC",L="PlayerLyric-module__PlayerLyric__FPEtF",E="PlayerLyric-module__PlayerLyric_text__TGvUV",O="PlayerLyric-module__PlayerLyric_text--active__KL5iT",I=o([function(e){return e}],function(e){var r=e.split(/\n/);return r.pop(),r.map(function(e){var r=e.replace("[","").split("]"),a=r[0],t=a.split(":")[0],n=a.split(":")[1].split(".")[0],o=a.split(":")[1].split(".")[1];return{millisecond:60*Number(t)*1e3+1e3*Number(n)+Number(o),text:r[1].trim().replace(/(男[:：]\s*)|(女[:：]\s*)/,"")}})});var T=function(){var e=function(){var e=n(l.useState(0),2),r=e[0],a=e[1],t=n(l.useState(!1),2),o=t[0],u=t[1],s=c(),_=s.songInfo.lyric,v=s.audioElRef,d=i(function(e){u(e)}),y=i(function(e){if(!o){var r=I(_).map(function(e){return e.millisecond}),t=Math.floor(1e3*e.target.currentTime),n=r.findIndex(function(e){return e>1.005*t});a(n>1?n-2:0)}});return l.useEffect(function(){var e=v.current;if(e)return e.addEventListener("timeupdate",y),function(){e.removeEventListener("timeupdate",y)}},[v,y]),{lyrics:I(_),prevLyricIndex:r,toggleIsTouching:d}}(),r=e.lyrics,a=e.prevLyricIndex,o=e.toggleIsTouching,_=l.useRef([]);return l.useEffect(function(){var e;null===(e=_.current[a])||void 0===e||e.scrollIntoView()},[a]),u.jsx("div",{className:L,onTouchStart:function(){return o(!0)},onTouchEnd:function(){return o(!1)},children:r.map(function(e,r){return u.jsx("p",{ref:function(e){return function(e,r){return _.current[e]=r,function(){_.current.splice(e,1)}}(r,e)},className:s(E,t({},O,r===a+1)),children:e.text},r)})})},B="PlayerProgress-module__PlayerProgress__zfweH",z="PlayerProgress-module__PlayerProgress__songCurTime__A7-HE",R="PlayerProgress-module__PlayerProgress__songDuration__Gvntj",k="PlayerProgress-module__PlayerProgress__progressBar__cjUc4",A="PlayerProgress-module__PlayerProgress__progressBarPointer__d5hpm";function C(e){if(isNaN(Number(e)))return"00:00";var r=Math.floor(Number(e)),a=r%60,t=Math.floor(r/60);return String(t).padStart(2,"0")+":"+String(a).padStart(2,"0")}var F=function(){var e=function(){var e=c().audioElRef,r=n(l.useState(0),2),a=r[0],t=r[1],o=n(l.useState(0),2),u=o[0],s=o[1],_=n(l.useState(0),2),v=_[0],d=_[1],y=n(l.useState(!1),2),f=y[0],g=y[1],P=l.useRef(null),h=l.useRef(null),x=l.useRef(0),w=i(function(r,t,n){var o,l=(r-t)/h.current.width,c=e.current;switch(n){case 0:o=c.duration*l;break;case 1:o=a+c.duration*l}return o<0?o=0:o>c.duration&&(o=c.duration),o}),p=i(function(){var r=e.current;if(!(r.readyState<2)){var a=r.buffered.length,t=Math.floor(100*r.buffered.end(a-1)/r.duration);s(t)}}),b=i(function(r){if(!f){var a=e.current,n=r.target.currentTime,o=Math.floor(100*n/a.duration);t(n),d(o)}}),M=i(function(r){var a=r.touches[0].clientX,n=w(a,x.current,1),o=e.current,l=Math.floor(100*n/o.duration);t(n),d(l),x.current=a}),j=i(function(){var r=e.current;g(!1),Number.isNaN(a)||(r.currentTime=a),window.removeEventListener("touchmove",M),window.removeEventListener("touchend",j)}),S=i(function(r){g(!0),h.current||(h.current=P.current.getBoundingClientRect());var a=r.touches[0].clientX,n=w(a,h.current.left,0),o=e.current,l=Math.floor(100*n/o.duration);t(n),d(l),x.current=a,window.addEventListener("touchmove",M),window.addEventListener("touchend",j)});return m("progress",p,{target:function(){return e.current}}),m("timeupdate",b,{target:function(){return e.current}}),{audioElRef:e,progressBarRef:P,currentTime:a,loadProgress:u,currentProgress:v,onTouchStart:S}}(),r=e.audioElRef,a=e.progressBarRef,t=e.currentTime,o=e.currentProgress,s=e.loadProgress,_=e.onTouchStart,v=null===r.current?{duration:0}:r.current,d={backgroundImage:"linear-gradient(to right, #2ca2f9 ".concat(o,"%, transparent ").concat(o,"%),linear-gradient(to right, #6c6b70 ").concat(s,"%, transparent ").concat(s,"%)"),color:"red"};return u.jsxs("div",{className:B,onTouchStart:_,children:[u.jsx("div",{className:z,children:C(t)}),u.jsx("div",{className:k,ref:a,style:d,children:u.jsx("div",{className:A,style:{left:o+"%"}})}),u.jsx("div",{className:R,children:C(v.duration)})]})},q=function(e){var r=e.songInfo,a=r.song_name,n=r.author_name,o=r.img,i=e.musicStatus,_=i.isPlaying,v=i.isLoading,g=e.prevSong,m=e.nextSong,L=c().togglePlay;return u.jsxs(l.Fragment,{children:[u.jsx("div",{className:P,style:{backgroundImage:"url(".concat(o,"),linear-gradient(to right, rgb(48, 67, 82), rgb(215, 210, 204))")}}),u.jsxs("div",{className:h,children:[u.jsx("h6",{className:x,children:a}),u.jsx("img",{src:o,className:s(w,t({},p,_)),alt:n}),u.jsx(T,{}),u.jsx(F,{}),u.jsxs("div",{className:b,children:[u.jsx(d,{className:M,prev:g}),u.jsx(y,{className:S,isLoading:v,isPlaying:_,togglePlay:L}),u.jsx(f,{className:j,next:m})]}),u.jsx("button",{className:N})]})]})};e("default",function(){var e=_(),r=v(),t=c(),n=t.musicStatus,o=t.songInfo,i=t.audioElRef,s=t.songIndex,d=t.songList,y=t.fetchMusicIfNeeded;l.useEffect(function(){if(""===o.play_url){var r=new URLSearchParams(e.search).get("musicHash");r&&y(r,0,[{hash:r}])}},[e.search,o,y]);var f={musicStatus:n,songInfo:o,audioElRef:i,songIndex:s,songList:d,location:e,navigate:r},m=g(d,s),P=m.nextSong,h=m.prevSong;return u.jsx(q,a(a({},f),{},{nextSong:P,prevSong:h}))})}}})}();
