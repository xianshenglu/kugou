import{a as o,j as i,f as _,N as l,c,e as L,d,g as u,L as S}from"./index-DxUPXwwm.js";import{l as p}from"./logo__grey-B7LfA2R-.js";import{$ as g}from"./utils-C5cHsdda.js";import{a as x}from"./mapper-BGcNM0N-.js";import"./mapper-npPNkTNf.js";const f="SingerList-module__SingerList__list__LU89s",y="SingerList-module__SingerList__item__q6tqh",h="SingerList-module__SingerList__link__VC3uR",j="SingerList-module__SingerList__img__GMM2B",n={SingerList__list:f,SingerList__item:y,SingerList__link:h,SingerList__img:j},N=({singersData:e})=>{const s=o.useRef([]),t=()=>{s.current=Array.from(document.getElementsByClassName("lazyImage")),g(s.current)};o.useEffect(()=>{t()});const{singersData:{data:a,info:{name:m}}}={singersData:e};return i.jsxs(o.Fragment,{children:[i.jsx("h4",{className:"module_title main_box_shadow",children:m}),i.jsx("ul",{className:n.SingerList__list,onScroll:()=>g(s.current),children:a.map(r=>i.jsx("li",{className:_(n.SingerList__item,"main_border_bottom"),children:i.jsxs(l,{to:r.path,className:n.SingerList__link,children:[i.jsx("img",{className:_(n.SingerList__img,"lazyImage"),src:p,"data-src":r.imgUrl,alt:r.name}),i.jsx("div",{children:r.name})]})},r.id))})]})},E=async e=>{const s=L.singerList.replace(/singerListId?/i,e);return await d.get(s)},R=c.injectEndpoints({endpoints:e=>({getSingerList:e.query({queryFn:async s=>{try{const{data:t}=await E(s);return{data:x(t)}}catch(t){return{error:{status:"FETCH_ERROR",error:String(t)}}}}})})}),{useGetSingerListQuery:I}=R,D=()=>{const{id:e}=u(),{data:s,isLoading:t,error:a}=I(e);return t?i.jsx(S,{}):a?i.jsx("div",{children:"Error loading singers"}):s?i.jsx(N,{singersData:s}):null};export{D as default};
