import{d as a}from"./index-KaDaPmii.js";var h=function(r){return typeof r=="function"};function o(r,n){if(r===n)return!0;for(var e=0;e<r.length;e++)if(!Object.is(r[e],n[e]))return!1;return!0}function d(r){var n=a.useRef(r);return n.current=r,n}var w=function(r){var n=d(r);a.useEffect(function(){return function(){n.current()}},[])},y=!!(typeof window<"u"&&window.document&&window.document.createElement);function E(r,n){if(y){if(!r)return n;var e;return h(r)?e=r():"current"in r?e=r.current:e=r,e}}var L=function(r){var n=function(e,c,i){var s=a.useRef(!1),u=a.useRef([]),v=a.useRef([]),f=a.useRef(void 0);r(function(){var t,m=Array.isArray(i)?i:[i],l=m.map(function(R){return E(R)});if(!s.current){s.current=!0,u.current=l,v.current=c,f.current=e();return}(l.length!==u.current.length||!o(u.current,l)||!o(v.current,c))&&((t=f.current)===null||t===void 0||t.call(f),u.current=l,v.current=c,f.current=e())}),w(function(){var t;(t=f.current)===null||t===void 0||t.call(f),s.current=!1})};return n},g=L(a.useEffect);function T(r,n,e){e===void 0&&(e={});var c=e.enable,i=c===void 0?!0:c,s=d(n);g(function(){if(i){var u=E(e.target,window);if(u?.addEventListener){var v=function(t){return s.current(t)},f=Array.isArray(r)?r:[r];return f.forEach(function(t){u.addEventListener(t,v,{capture:e.capture,once:e.once,passive:e.passive})}),function(){f.forEach(function(t){u.removeEventListener(t,v,{capture:e.capture})})}}}},[r,e.capture,e.once,e.passive,i],e.target)}export{T as u};
