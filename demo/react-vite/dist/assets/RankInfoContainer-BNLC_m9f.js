import{r as o,j as r,m as c,A as u,P as a,F as d,e as m,f,n as I,c as R,o as l}from"./index-C7fqB9nJ.js";import{I as k}from"./InfoHeader-C-UNcU_0.js";class i extends o.Component{renderUpdatedTime(e){return()=>r.jsx("time",{className:"RankInfo__updatedTime",children:"上次更新时间: "+e})}renderMusicSequence(e){const s=e+1;return r.jsx("div",{className:"RankInfo__musicSequence RankInfo__musicSequence--"+s,children:s})}render(){const{songsData:e,listInfo:{rankname:s,imgurl:t}}=this.props,p={name:s,imgurl:t,renderUpdatedTime:this.renderUpdatedTime(c(e.timestamp*1e3))};return r.jsxs(o.Fragment,{children:[r.jsx(k,{...p}),r.jsx(u,{data:e.list,renderMusicSequence:this.renderMusicSequence})]})}}i.propTypes={songsData:a.shape({list:a.array.isRequired,timestamp:a.number.isRequired,page:a.number.isRequired,pagesize:a.number.isRequired}).isRequired,listInfo:a.object.isRequired};const x=n=>({type:d,id:n}),h=n=>function(e,s){s().rankInfo.id!==n&&(e(x(n)),m.get(f.rankInfo+n).then(t=>{e(q(t,n))}))},q=(n,e)=>({type:I,response:n,id:e});class _ extends o.Component{componentDidMount(){const{dispatch:e,params:{id:s}}=this.props;e(h(s))}render(){return r.jsx(i,{...this.props})}}const j=({rankInfo:{songsData:n,listInfo:e}})=>({songsData:n,listInfo:e}),T=null;function g(n){const e=l();return r.jsx(_,{...n,params:e})}const E=R(j,T)(g);export{E as default};
