import{j as e,g as a,A as c,i as f,m as p,k as g,q as u,L as d}from"./index-Kc9eG8mG.js";import{I as m}from"./InfoHeader-eHJ4ADPK.js";import{I}from"./InfoDescription-DjPfSzCR.js";import{b as x}from"./mapper-BGcNM0N-.js";import"./mapper-npPNkTNf.js";const j=({info:s,data:r})=>{const{name:n,imgUrl:t,intro:o}=s,i={name:n,imgurl:t};return e.jsxs(a.Fragment,{children:[e.jsx(m,{...i}),e.jsx(I,{description:o}),e.jsx(c,{data:r,"test-id":"page-singer-info"})]})},l=async s=>{const r=p.singerInfo.replace(/singerInfoId?/i,s);return await g.get(r)},S=f.injectEndpoints({endpoints:s=>({getSingerInfo:s.query({queryFn:async r=>{try{const{data:n}=await l(r);return{data:x(n)}}catch(n){return{error:{status:"FETCH_ERROR",error:String(n)}}}}})})}),{useGetSingerInfoQuery:y}=S,q=()=>{const{id:s}=u(),{data:r,isLoading:n,error:t}=y(s);return n?e.jsx(d,{}):t?e.jsx("div",{children:"Error loading singer info"}):r?e.jsx(j,{...r}):null};export{q as default};
