import{a as s,Q as h,T as w}from"./index-DxUPXwwm.js";var R=function(r){return typeof r=="function"};function d(r,a){if(r===a)return!0;for(var e=0;e<r.length;e++)if(!Object.is(r[e],a[e]))return!1;return!0}var y=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(r,a){if(y){if(!r)return a;var e;return R(r)?e=r():"current"in r?e=r.current:e=r,e}}var L=function(r){var a=function(e,c,f){var v=s.useRef(!1),t=s.useRef([]),i=s.useRef([]),u=s.useRef(void 0);r(function(){var n,E=Array.isArray(f)?f:[f],l=E.map(function(m){return o(m)});if(!v.current){v.current=!0,t.current=l,i.current=c,u.current=e();return}(l.length!==t.current.length||!d(t.current,l)||!d(i.current,c))&&((n=u.current)===null||n===void 0||n.call(u),t.current=l,i.current=c,u.current=e())}),h(function(){var n;(n=u.current)===null||n===void 0||n.call(u),v.current=!1})};return a},g=L(s.useEffect);function T(r,a,e){e===void 0&&(e={});var c=e.enable,f=c===void 0?!0:c,v=w(a);g(function(){if(f){var t=o(e.target,window);if(t?.addEventListener){var i=function(n){return v.current(n)},u=Array.isArray(r)?r:[r];return u.forEach(function(n){t.addEventListener(n,i,{capture:e.capture,once:e.once,passive:e.passive})}),function(){u.forEach(function(n){t.removeEventListener(n,i,{capture:e.capture})})}}}},[r,e.capture,e.once,e.passive,f],e.target)}export{T as u};
