import{j as e,a as f,A as m,f as d,g as k,h as I,i as R,k as p,L as l}from"./index-CXt62PwA.js";import{I as q}from"./InfoHeader-r6Fub74C.js";import{f as x}from"./utils-B_dGR-9Z.js";import{a as g}from"./mapper-Dbp8-Z5E.js";import"./mapper-npPNkTNf.js";const S="RankInfo-module__RankInfo__updatedTime__3vWaG",j="RankInfo-module__RankInfo__musicSequence__PpI-h",t={RankInfo__updatedTime:S,RankInfo__musicSequence:j,"RankInfo__musicSequence--1":"RankInfo-module__RankInfo__musicSequence--1__U7dnN","RankInfo__musicSequence--2":"RankInfo-module__RankInfo__musicSequence--2__Zf5Dx","RankInfo__musicSequence--3":"RankInfo-module__RankInfo__musicSequence--3__nie-o"},y=({songsData:n,listInfo:a})=>{const s=r=>()=>e.jsx("time",{className:t.RankInfo__updatedTime,children:"Last updated: "+r}),o=r=>{const i=r+1;return e.jsx("div",{className:d(t.RankInfo__musicSequence,t["RankInfo__musicSequence--"+i]),children:i})},{rankname:u,imgUrl:c}=a,_={name:u,imgurl:c,renderUpdatedTime:s(x(n.timestamp*1e3))};return e.jsxs(f.Fragment,{children:[e.jsx(q,{..._}),e.jsx(m,{data:n.list,renderMusicSequence:o,"test-id":"page-rank-info"})]})};async function h(n){const a=await k.get(I.rankInfo+n);return g(a.data)}const T=n=>R({queryKey:["rankInfo",n],queryFn:()=>h(n)}),E=()=>{const{id:n}=p(),{data:a,isLoading:s,error:o}=T(n);return s?e.jsx(l,{}):o?e.jsx("div",{children:"Error loading rank info"}):a?e.jsx(y,{songsData:a.songs,listInfo:a.info}):null};export{E as default};
