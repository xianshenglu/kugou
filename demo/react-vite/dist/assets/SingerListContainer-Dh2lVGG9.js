import{g as o,j as i,o as _,N as m,i as c,m as L,k as d,q as u,L as S}from"./index-Kc9eG8mG.js";import{l as p}from"./logo__grey-B7LfA2R-.js";import{$ as g}from"./utils-B_dGR-9Z.js";import{a as x}from"./mapper-BGcNM0N-.js";import"./mapper-npPNkTNf.js";const y="SingerList-module__SingerList__list__1FyvY",f="SingerList-module__SingerList__item__It2M-",j="SingerList-module__SingerList__link__gGFSU",h="SingerList-module__SingerList__img__-Ouss",n={SingerList__list:y,SingerList__item:f,SingerList__link:j,SingerList__img:h},N=({singersData:e})=>{const s=o.useRef([]),t=()=>{s.current=Array.from(document.getElementsByClassName("lazyImage")),g(s.current)};o.useEffect(()=>{t()});const{singersData:{data:a,info:{name:l}}}={singersData:e};return i.jsxs(o.Fragment,{children:[i.jsx("h4",{className:"module_title main_box_shadow",children:l}),i.jsx("ul",{className:n.SingerList__list,onScroll:()=>g(s.current),"test-id":"page-singer-list",children:a.map(r=>i.jsx("li",{className:_(n.SingerList__item,"main_border_bottom"),"test-class":"list",children:i.jsxs(m,{to:r.path,className:n.SingerList__link,"test-class":"link",children:[i.jsx("img",{className:_(n.SingerList__img,"lazyImage"),src:p,"data-src":r.imgUrl,alt:r.name}),i.jsx("div",{children:r.name})]})},r.id))})]})},E=async e=>{const s=L.singerList.replace(/singerListId?/i,e);return await d.get(s)},k=c.injectEndpoints({endpoints:e=>({getSingerList:e.query({queryFn:async s=>{try{const{data:t}=await E(s);return{data:x(t)}}catch(t){return{error:{status:"FETCH_ERROR",error:String(t)}}}}})})}),{useGetSingerListQuery:I}=k,D=()=>{const{id:e}=u(),{data:s,isLoading:t,error:a}=I(e);return t?i.jsx(S,{}):a?i.jsx("div",{children:"Error loading singers"}):s?i.jsx(N,{singersData:s}):null};export{D as default};
