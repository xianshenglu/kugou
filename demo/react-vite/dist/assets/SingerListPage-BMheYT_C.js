import{d as _,j as s,f as o,N as g,h as c,g as L,i as d,L as u}from"./index-Bo_xwoMD.js";import{l as S}from"./logo__grey-B7LfA2R-.js";import{$ as l}from"./utils-B_dGR-9Z.js";import{u as f}from"./useQuery-Q3iVlNsx.js";import{a as x}from"./mapper-BGcNM0N-.js";import"./mapper-npPNkTNf.js";const y="SingerList-module__SingerList__list__jCdK0",p="SingerList-module__SingerList__item__E-7ef",j="SingerList-module__SingerList__link__qKmyy",h="SingerList-module__SingerList__img__t-0r-",n={SingerList__list:y,SingerList__item:p,SingerList__link:j,SingerList__img:h},N=({singersData:i})=>{const e=_.useRef([]),t=()=>{e.current=Array.from(document.getElementsByClassName("lazyImage")),l(e.current)};_.useEffect(()=>{t()});const{singersData:{data:a,info:{name:m}}}={singersData:i};return s.jsxs(_.Fragment,{children:[s.jsx("h4",{className:"module_title main_box_shadow",children:m}),s.jsx("ul",{className:n.SingerList__list,onScroll:()=>l(e.current),"test-id":"page-singer-list",children:a.map(r=>s.jsx("li",{className:o(n.SingerList__item,"main_border_bottom"),"test-class":"list",children:s.jsxs(g,{to:r.path,className:n.SingerList__link,"test-class":"link",children:[s.jsx("img",{className:o(n.SingerList__img,"lazyImage"),src:S,"data-src":r.imgUrl,alt:r.name}),s.jsx("div",{children:r.name})]})},r.id))})]})};async function k(i){const e=c.singerList.replace(/singerListId?/i,i),t=await L.get(e);return x(t.data)}const E=i=>f({queryKey:["singerList",i],queryFn:()=>k(i)}),K=()=>{const{id:i}=d(),{data:e,isLoading:t,error:a}=E(i);return t?s.jsx(u,{}):a?s.jsx("div",{children:"Error loading singers"}):e?s.jsx(N,{singersData:e}):null};export{K as default};
