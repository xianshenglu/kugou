import{j as o,g as a,A as f,i as p,m as g,k as l,q as u,L as d}from"./index-Kc9eG8mG.js";import{I as m}from"./InfoHeader-eHJ4ADPK.js";import{I}from"./InfoDescription-DjPfSzCR.js";import{a as x}from"./mapper-DNMHWoT1.js";import"./mapper-npPNkTNf.js";const L=({songsData:t,listInfo:s})=>{const{songsData:{list:n},listInfo:{specialname:r,imgUrl:i,intro:e}}={songsData:t,listInfo:s},c={name:r,imgurl:i};return o.jsxs(a.Fragment,{children:[o.jsx(m,{...c}),o.jsx(I,{description:e}),o.jsx(f,{data:n,"test-id":"page-song-list-info"})]})},j=async t=>{const s=g.songListInfo.replace(/songListInfoId/i,t);return await l.get(s)},y=p.injectEndpoints({endpoints:t=>({getSongListInfo:t.query({queryFn:async s=>{try{const{data:n}=await j(s);return{data:x(n)}}catch(n){return{error:{status:"FETCH_ERROR",error:String(n)}}}}})})}),{useGetSongListInfoQuery:E}=y,q=()=>{const{id:t}=u(),{data:s,isLoading:n,error:r}=E(t),i=a.useMemo(()=>({list:s?.songs.list.info}),[s]);return n?o.jsx(d,{}):r?o.jsx("div",{children:"Error loading playlist info"}):s?o.jsx(L,{songsData:i,listInfo:s.info.list}):null};export{q as default};
