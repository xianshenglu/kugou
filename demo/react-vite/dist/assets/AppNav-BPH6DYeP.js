import{b as x,r as d,d as R,m as S,j as r,n as f,o as m,N as A}from"./index-z3KPlZ2Z.js";import{u as j}from"./index-BdE5_AHl.js";function C(c){const{minOffset:a=window.innerWidth*.1,maxOffset:n=window.innerWidth*.4,interval:o=300,onSwipe:i}=c,t=x(s=>{const e=Date.now(),u=s.touches[0].clientX,N=s.touches[0].clientY,p=v=>{window.removeEventListener("touchend",p,!0);const h=v.changedTouches[0].clientX,g=v.changedTouches[0].clientY,l=Math.abs(h-u);if(Math.abs(g-N)>l)return;const E=h-u<0?"left":"right",w=Date.now()-e>o,T=w&&l>n,L=!w&&l>a;(T||L)&&i(E)};window.addEventListener("touchend",p,!0)});j("touchstart",t,{target:window})}function O(c,a){const[n,o]=d.useState({left:0,width:0}),i=x(()=>{const t=c();if(!t)return;const e={left:t.getBoundingClientRect().left-t.parentElement.getBoundingClientRect().left,width:t.offsetWidth};o(e)});return d.useLayoutEffect(()=>{i()},a),n}const M=d.memo(c=>{const a=R(),n=S(t=>t.activeIndex),o=d.useRef([]),i=O(()=>o.current[n],[n]);return C({onSwipe:t=>{const s=t==="left"?n+1:n-1,e=m[s];e!==void 0&&a(e.path)}}),r.jsxs("section",{className:f.AppNav,children:[r.jsx("nav",{className:f.AppNav__box,children:m.map((t,s)=>r.jsx(A,{to:t.path,ref:e=>{o.current[s]=e},className:({isActive:e,isPending:u})=>f.AppNav__link,"test-id":`nav-link${t.name}`,children:t.text},t.path))}),r.jsx("div",{className:f.AppNav__underline,style:{width:i.width+"px",transform:`translateX(${i.left}px)`}})]})});export{M as default};
