import{j as n,r as m,A as f,c as d,e as I,f as k,g as R,h as p,Q as l}from"./index-CBzj5LHV.js";import{I as q}from"./InfoHeader-D02gP6I5.js";import{f as x}from"./utils-B_dGR-9Z.js";import{a as S}from"./mapper-Dbp8-Z5E.js";import"./mapper-npPNkTNf.js";const y="RankInfo-module__RankInfo__updatedTime__3vWaG",g="RankInfo-module__RankInfo__musicSequence__PpI-h",t={RankInfo__updatedTime:y,RankInfo__musicSequence:g,"RankInfo__musicSequence--1":"RankInfo-module__RankInfo__musicSequence--1__U7dnN","RankInfo__musicSequence--2":"RankInfo-module__RankInfo__musicSequence--2__Zf5Dx","RankInfo__musicSequence--3":"RankInfo-module__RankInfo__musicSequence--3__nie-o"},j=({songsData:e,listInfo:a})=>{const s=o=>()=>n.jsx("time",{className:t.RankInfo__updatedTime,children:"Last updated: "+o}),r=o=>{const u=o+1;return n.jsx("div",{className:d(t.RankInfo__musicSequence,t["RankInfo__musicSequence--"+u]),children:u})},{rankname:c,imgUrl:_}=a,i={name:c,imgurl:_,renderUpdatedTime:s(x(e.timestamp*1e3))};return n.jsxs(m.Fragment,{children:[n.jsx(q,{...i}),n.jsx(f,{data:e.list,renderMusicSequence:r,"test-id":"page-rank-info"})]})};async function h(e){const a=await I.get(k.rankInfo+e);return S(a.data)}const T=e=>R({queryKey:["rankInfo",e],queryFn:()=>h(e)}),A=()=>{const{id:e}=p(),a=T(e);return n.jsx(l,{query:a,children:s=>n.jsx(j,{songsData:s.songs,listInfo:s.info})})};export{A as default};
